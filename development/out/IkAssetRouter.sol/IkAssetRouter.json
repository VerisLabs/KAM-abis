{"abi":[{"type":"function","name":"canExecuteProposal","inputs":[{"name":"proposalId","type":"bytes32","internalType":"bytes32"}],"outputs":[{"name":"canExecute","type":"bool","internalType":"bool"},{"name":"reason","type":"string","internalType":"string"}],"stateMutability":"view"},{"type":"function","name":"cancelProposal","inputs":[{"name":"proposalId","type":"bytes32","internalType":"bytes32"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"contractName","inputs":[],"outputs":[{"name":"","type":"string","internalType":"string"}],"stateMutability":"pure"},{"type":"function","name":"contractVersion","inputs":[],"outputs":[{"name":"","type":"string","internalType":"string"}],"stateMutability":"pure"},{"type":"function","name":"executeSettleBatch","inputs":[{"name":"proposalId","type":"bytes32","internalType":"bytes32"}],"outputs":[],"stateMutability":"payable"},{"type":"function","name":"getBatchIdBalances","inputs":[{"name":"vault","type":"address","internalType":"address"},{"name":"batchId","type":"bytes32","internalType":"bytes32"}],"outputs":[{"name":"deposited","type":"uint256","internalType":"uint256"},{"name":"requested","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"getDNVaultByAsset","inputs":[{"name":"asset","type":"address","internalType":"address"}],"outputs":[{"name":"vault","type":"address","internalType":"address"}],"stateMutability":"view"},{"type":"function","name":"getPendingProposals","inputs":[{"name":"vault_","type":"address","internalType":"address"}],"outputs":[{"name":"pendingProposals","type":"bytes32[]","internalType":"bytes32[]"}],"stateMutability":"view"},{"type":"function","name":"getRequestedShares","inputs":[{"name":"vault","type":"address","internalType":"address"},{"name":"batchId","type":"bytes32","internalType":"bytes32"}],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"getSettlementCooldown","inputs":[],"outputs":[{"name":"cooldown","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"getSettlementProposal","inputs":[{"name":"proposalId","type":"bytes32","internalType":"bytes32"}],"outputs":[{"name":"proposal","type":"tuple","internalType":"struct IkAssetRouter.VaultSettlementProposal","components":[{"name":"asset","type":"address","internalType":"address"},{"name":"vault","type":"address","internalType":"address"},{"name":"batchId","type":"bytes32","internalType":"bytes32"},{"name":"totalAssets","type":"uint256","internalType":"uint256"},{"name":"netted","type":"int256","internalType":"int256"},{"name":"yield","type":"int256","internalType":"int256"},{"name":"executeAfter","type":"uint64","internalType":"uint64"},{"name":"lastFeesChargedManagement","type":"uint64","internalType":"uint64"},{"name":"lastFeesChargedPerformance","type":"uint64","internalType":"uint64"}]}],"stateMutability":"view"},{"type":"function","name":"getYieldTolerance","inputs":[],"outputs":[{"name":"tolerance","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"isPaused","inputs":[],"outputs":[{"name":"","type":"bool","internalType":"bool"}],"stateMutability":"view"},{"type":"function","name":"kAssetPush","inputs":[{"name":"_asset","type":"address","internalType":"address"},{"name":"amount","type":"uint256","internalType":"uint256"},{"name":"batchId","type":"bytes32","internalType":"bytes32"}],"outputs":[],"stateMutability":"payable"},{"type":"function","name":"kAssetRequestPull","inputs":[{"name":"_asset","type":"address","internalType":"address"},{"name":"amount","type":"uint256","internalType":"uint256"},{"name":"batchId","type":"bytes32","internalType":"bytes32"}],"outputs":[],"stateMutability":"payable"},{"type":"function","name":"kAssetTransfer","inputs":[{"name":"sourceVault","type":"address","internalType":"address"},{"name":"targetVault","type":"address","internalType":"address"},{"name":"_asset","type":"address","internalType":"address"},{"name":"amount","type":"uint256","internalType":"uint256"},{"name":"batchId","type":"bytes32","internalType":"bytes32"}],"outputs":[],"stateMutability":"payable"},{"type":"function","name":"kSharesRequestPull","inputs":[{"name":"sourceVault","type":"address","internalType":"address"},{"name":"amount","type":"uint256","internalType":"uint256"},{"name":"batchId","type":"bytes32","internalType":"bytes32"}],"outputs":[],"stateMutability":"payable"},{"type":"function","name":"kSharesRequestPush","inputs":[{"name":"sourceVault","type":"address","internalType":"address"},{"name":"amount","type":"uint256","internalType":"uint256"},{"name":"batchId","type":"bytes32","internalType":"bytes32"}],"outputs":[],"stateMutability":"payable"},{"type":"function","name":"proposeSettleBatch","inputs":[{"name":"asset","type":"address","internalType":"address"},{"name":"vault","type":"address","internalType":"address"},{"name":"batchId","type":"bytes32","internalType":"bytes32"},{"name":"totalAssets","type":"uint256","internalType":"uint256"},{"name":"lastFeesChargedManagement","type":"uint64","internalType":"uint64"},{"name":"lastFeesChargedPerformance","type":"uint64","internalType":"uint64"}],"outputs":[{"name":"proposalId","type":"bytes32","internalType":"bytes32"}],"stateMutability":"payable"},{"type":"function","name":"setMaxAllowedDelta","inputs":[{"name":"tolerance_","type":"uint256","internalType":"uint256"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"setSettlementCooldown","inputs":[{"name":"cooldown","type":"uint256","internalType":"uint256"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"virtualBalance","inputs":[{"name":"vault","type":"address","internalType":"address"},{"name":"asset","type":"address","internalType":"address"}],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"event","name":"AssetsPushed","inputs":[{"name":"from","type":"address","indexed":true,"internalType":"address"},{"name":"amount","type":"uint256","indexed":false,"internalType":"uint256"}],"anonymous":false},{"type":"event","name":"AssetsRequestPulled","inputs":[{"name":"vault","type":"address","indexed":true,"internalType":"address"},{"name":"asset","type":"address","indexed":true,"internalType":"address"},{"name":"amount","type":"uint256","indexed":false,"internalType":"uint256"}],"anonymous":false},{"type":"event","name":"AssetsTransfered","inputs":[{"name":"sourceVault","type":"address","indexed":true,"internalType":"address"},{"name":"targetVault","type":"address","indexed":true,"internalType":"address"},{"name":"asset","type":"address","indexed":true,"internalType":"address"},{"name":"amount","type":"uint256","indexed":false,"internalType":"uint256"}],"anonymous":false},{"type":"event","name":"BatchSettled","inputs":[{"name":"vault","type":"address","indexed":true,"internalType":"address"},{"name":"batchId","type":"bytes32","indexed":true,"internalType":"bytes32"},{"name":"totalAssets","type":"uint256","indexed":false,"internalType":"uint256"}],"anonymous":false},{"type":"event","name":"ContractInitialized","inputs":[{"name":"registry","type":"address","indexed":true,"internalType":"address"}],"anonymous":false},{"type":"event","name":"Deposited","inputs":[{"name":"vault","type":"address","indexed":true,"internalType":"address"},{"name":"asset","type":"address","indexed":true,"internalType":"address"},{"name":"amount","type":"uint256","indexed":false,"internalType":"uint256"}],"anonymous":false},{"type":"event","name":"MaxAllowedDeltaUpdated","inputs":[{"name":"oldTolerance","type":"uint256","indexed":false,"internalType":"uint256"},{"name":"newTolerance","type":"uint256","indexed":false,"internalType":"uint256"}],"anonymous":false},{"type":"event","name":"PegProtectionActivated","inputs":[{"name":"vault","type":"address","indexed":true,"internalType":"address"},{"name":"shortfall","type":"uint256","indexed":false,"internalType":"uint256"}],"anonymous":false},{"type":"event","name":"PegProtectionExecuted","inputs":[{"name":"sourceVault","type":"address","indexed":true,"internalType":"address"},{"name":"targetVault","type":"address","indexed":true,"internalType":"address"},{"name":"amount","type":"uint256","indexed":false,"internalType":"uint256"}],"anonymous":false},{"type":"event","name":"SettlementCancelled","inputs":[{"name":"proposalId","type":"bytes32","indexed":true,"internalType":"bytes32"},{"name":"vault","type":"address","indexed":true,"internalType":"address"},{"name":"batchId","type":"bytes32","indexed":true,"internalType":"bytes32"}],"anonymous":false},{"type":"event","name":"SettlementCooldownUpdated","inputs":[{"name":"oldCooldown","type":"uint256","indexed":false,"internalType":"uint256"},{"name":"newCooldown","type":"uint256","indexed":false,"internalType":"uint256"}],"anonymous":false},{"type":"event","name":"SettlementExecuted","inputs":[{"name":"proposalId","type":"bytes32","indexed":true,"internalType":"bytes32"},{"name":"vault","type":"address","indexed":true,"internalType":"address"},{"name":"batchId","type":"bytes32","indexed":true,"internalType":"bytes32"},{"name":"executor","type":"address","indexed":false,"internalType":"address"}],"anonymous":false},{"type":"event","name":"SettlementProposed","inputs":[{"name":"proposalId","type":"bytes32","indexed":true,"internalType":"bytes32"},{"name":"vault","type":"address","indexed":true,"internalType":"address"},{"name":"batchId","type":"bytes32","indexed":true,"internalType":"bytes32"},{"name":"totalAssets","type":"uint256","indexed":false,"internalType":"uint256"},{"name":"netted","type":"int256","indexed":false,"internalType":"int256"},{"name":"yield","type":"int256","indexed":false,"internalType":"int256"},{"name":"executeAfter","type":"uint256","indexed":false,"internalType":"uint256"},{"name":"lastFeesChargedManagement","type":"uint256","indexed":false,"internalType":"uint256"},{"name":"lastFeesChargedPerformance","type":"uint256","indexed":false,"internalType":"uint256"}],"anonymous":false},{"type":"event","name":"SettlementUpdated","inputs":[{"name":"proposalId","type":"bytes32","indexed":true,"internalType":"bytes32"},{"name":"totalAssets","type":"uint256","indexed":false,"internalType":"uint256"},{"name":"netted","type":"uint256","indexed":false,"internalType":"uint256"},{"name":"yield","type":"uint256","indexed":false,"internalType":"uint256"},{"name":"profit","type":"bool","indexed":false,"internalType":"bool"}],"anonymous":false},{"type":"event","name":"SharesRequestedPulled","inputs":[{"name":"vault","type":"address","indexed":true,"internalType":"address"},{"name":"batchId","type":"bytes32","indexed":true,"internalType":"bytes32"},{"name":"amount","type":"uint256","indexed":false,"internalType":"uint256"}],"anonymous":false},{"type":"event","name":"SharesRequestedPushed","inputs":[{"name":"vault","type":"address","indexed":true,"internalType":"address"},{"name":"batchId","type":"bytes32","indexed":true,"internalType":"bytes32"},{"name":"amount","type":"uint256","indexed":false,"internalType":"uint256"}],"anonymous":false},{"type":"event","name":"SharesSettled","inputs":[{"name":"vaults","type":"address[]","indexed":false,"internalType":"address[]"},{"name":"batchId","type":"bytes32","indexed":true,"internalType":"bytes32"},{"name":"totalRequestedShares","type":"uint256","indexed":false,"internalType":"uint256"},{"name":"totalAssets","type":"uint256[]","indexed":false,"internalType":"uint256[]"},{"name":"sharePrice","type":"uint256","indexed":false,"internalType":"uint256"}],"anonymous":false},{"type":"event","name":"YieldDistributed","inputs":[{"name":"vault","type":"address","indexed":true,"internalType":"address"},{"name":"yield","type":"int256","indexed":false,"internalType":"int256"}],"anonymous":false},{"type":"event","name":"YieldExceedsMaxDeltaWarning","inputs":[{"name":"vault","type":"address","indexed":false,"internalType":"address"},{"name":"asset","type":"address","indexed":false,"internalType":"address"},{"name":"batchId","type":"bytes32","indexed":false,"internalType":"bytes32"},{"name":"yield","type":"int256","indexed":false,"internalType":"int256"},{"name":"maxAllowedYield","type":"uint256","indexed":false,"internalType":"uint256"}],"anonymous":false}],"bytecode":{"object":"0x","sourceMap":"","linkReferences":{}},"deployedBytecode":{"object":"0x","sourceMap":"","linkReferences":{}},"methodIdentifiers":{"canExecuteProposal(bytes32)":"c31fd6aa","cancelProposal(bytes32)":"37376ca8","contractName()":"75d0c0dc","contractVersion()":"a0a8e460","executeSettleBatch(bytes32)":"10d03d64","getBatchIdBalances(address,bytes32)":"bff9c21a","getDNVaultByAsset(address)":"d0fab258","getPendingProposals(address)":"41076538","getRequestedShares(address,bytes32)":"53a7f925","getSettlementCooldown()":"c34ee627","getSettlementProposal(bytes32)":"b0b3242d","getYieldTolerance()":"370585f4","isPaused()":"b187bd26","kAssetPush(address,uint256,bytes32)":"a8412deb","kAssetRequestPull(address,uint256,bytes32)":"95f4042b","kAssetTransfer(address,address,address,uint256,bytes32)":"c6099092","kSharesRequestPull(address,uint256,bytes32)":"8f6b6ee2","kSharesRequestPush(address,uint256,bytes32)":"d7eebeaf","proposeSettleBatch(address,address,bytes32,uint256,uint64,uint64)":"3e25562e","setMaxAllowedDelta(uint256)":"0fa37592","setSettlementCooldown(uint256)":"46b6aa23","virtualBalance(address,address)":"6ad3182d"},"rawMetadata":"{\"compiler\":{\"version\":\"0.8.30+commit.73712a01\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"from\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"AssetsPushed\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"vault\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"asset\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"AssetsRequestPulled\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"sourceVault\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"targetVault\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"asset\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"AssetsTransfered\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"vault\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"bytes32\",\"name\":\"batchId\",\"type\":\"bytes32\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"totalAssets\",\"type\":\"uint256\"}],\"name\":\"BatchSettled\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"registry\",\"type\":\"address\"}],\"name\":\"ContractInitialized\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"vault\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"asset\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"Deposited\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"oldTolerance\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"newTolerance\",\"type\":\"uint256\"}],\"name\":\"MaxAllowedDeltaUpdated\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"vault\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"shortfall\",\"type\":\"uint256\"}],\"name\":\"PegProtectionActivated\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"sourceVault\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"targetVault\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"PegProtectionExecuted\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"bytes32\",\"name\":\"proposalId\",\"type\":\"bytes32\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"vault\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"bytes32\",\"name\":\"batchId\",\"type\":\"bytes32\"}],\"name\":\"SettlementCancelled\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"oldCooldown\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"newCooldown\",\"type\":\"uint256\"}],\"name\":\"SettlementCooldownUpdated\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"bytes32\",\"name\":\"proposalId\",\"type\":\"bytes32\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"vault\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"bytes32\",\"name\":\"batchId\",\"type\":\"bytes32\"},{\"indexed\":false,\"internalType\":\"address\",\"name\":\"executor\",\"type\":\"address\"}],\"name\":\"SettlementExecuted\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"bytes32\",\"name\":\"proposalId\",\"type\":\"bytes32\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"vault\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"bytes32\",\"name\":\"batchId\",\"type\":\"bytes32\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"totalAssets\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"int256\",\"name\":\"netted\",\"type\":\"int256\"},{\"indexed\":false,\"internalType\":\"int256\",\"name\":\"yield\",\"type\":\"int256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"executeAfter\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"lastFeesChargedManagement\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"lastFeesChargedPerformance\",\"type\":\"uint256\"}],\"name\":\"SettlementProposed\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"bytes32\",\"name\":\"proposalId\",\"type\":\"bytes32\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"totalAssets\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"netted\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"yield\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"bool\",\"name\":\"profit\",\"type\":\"bool\"}],\"name\":\"SettlementUpdated\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"vault\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"bytes32\",\"name\":\"batchId\",\"type\":\"bytes32\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"SharesRequestedPulled\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"vault\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"bytes32\",\"name\":\"batchId\",\"type\":\"bytes32\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"SharesRequestedPushed\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"address[]\",\"name\":\"vaults\",\"type\":\"address[]\"},{\"indexed\":true,\"internalType\":\"bytes32\",\"name\":\"batchId\",\"type\":\"bytes32\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"totalRequestedShares\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256[]\",\"name\":\"totalAssets\",\"type\":\"uint256[]\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"sharePrice\",\"type\":\"uint256\"}],\"name\":\"SharesSettled\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"vault\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"int256\",\"name\":\"yield\",\"type\":\"int256\"}],\"name\":\"YieldDistributed\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"address\",\"name\":\"vault\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"address\",\"name\":\"asset\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"bytes32\",\"name\":\"batchId\",\"type\":\"bytes32\"},{\"indexed\":false,\"internalType\":\"int256\",\"name\":\"yield\",\"type\":\"int256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"maxAllowedYield\",\"type\":\"uint256\"}],\"name\":\"YieldExceedsMaxDeltaWarning\",\"type\":\"event\"},{\"inputs\":[{\"internalType\":\"bytes32\",\"name\":\"proposalId\",\"type\":\"bytes32\"}],\"name\":\"canExecuteProposal\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"canExecute\",\"type\":\"bool\"},{\"internalType\":\"string\",\"name\":\"reason\",\"type\":\"string\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bytes32\",\"name\":\"proposalId\",\"type\":\"bytes32\"}],\"name\":\"cancelProposal\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"contractName\",\"outputs\":[{\"internalType\":\"string\",\"name\":\"\",\"type\":\"string\"}],\"stateMutability\":\"pure\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"contractVersion\",\"outputs\":[{\"internalType\":\"string\",\"name\":\"\",\"type\":\"string\"}],\"stateMutability\":\"pure\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bytes32\",\"name\":\"proposalId\",\"type\":\"bytes32\"}],\"name\":\"executeSettleBatch\",\"outputs\":[],\"stateMutability\":\"payable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"vault\",\"type\":\"address\"},{\"internalType\":\"bytes32\",\"name\":\"batchId\",\"type\":\"bytes32\"}],\"name\":\"getBatchIdBalances\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"deposited\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"requested\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"asset\",\"type\":\"address\"}],\"name\":\"getDNVaultByAsset\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"vault\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"vault_\",\"type\":\"address\"}],\"name\":\"getPendingProposals\",\"outputs\":[{\"internalType\":\"bytes32[]\",\"name\":\"pendingProposals\",\"type\":\"bytes32[]\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"vault\",\"type\":\"address\"},{\"internalType\":\"bytes32\",\"name\":\"batchId\",\"type\":\"bytes32\"}],\"name\":\"getRequestedShares\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"getSettlementCooldown\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"cooldown\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bytes32\",\"name\":\"proposalId\",\"type\":\"bytes32\"}],\"name\":\"getSettlementProposal\",\"outputs\":[{\"components\":[{\"internalType\":\"address\",\"name\":\"asset\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"vault\",\"type\":\"address\"},{\"internalType\":\"bytes32\",\"name\":\"batchId\",\"type\":\"bytes32\"},{\"internalType\":\"uint256\",\"name\":\"totalAssets\",\"type\":\"uint256\"},{\"internalType\":\"int256\",\"name\":\"netted\",\"type\":\"int256\"},{\"internalType\":\"int256\",\"name\":\"yield\",\"type\":\"int256\"},{\"internalType\":\"uint64\",\"name\":\"executeAfter\",\"type\":\"uint64\"},{\"internalType\":\"uint64\",\"name\":\"lastFeesChargedManagement\",\"type\":\"uint64\"},{\"internalType\":\"uint64\",\"name\":\"lastFeesChargedPerformance\",\"type\":\"uint64\"}],\"internalType\":\"struct IkAssetRouter.VaultSettlementProposal\",\"name\":\"proposal\",\"type\":\"tuple\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"getYieldTolerance\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"tolerance\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"isPaused\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_asset\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"},{\"internalType\":\"bytes32\",\"name\":\"batchId\",\"type\":\"bytes32\"}],\"name\":\"kAssetPush\",\"outputs\":[],\"stateMutability\":\"payable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_asset\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"},{\"internalType\":\"bytes32\",\"name\":\"batchId\",\"type\":\"bytes32\"}],\"name\":\"kAssetRequestPull\",\"outputs\":[],\"stateMutability\":\"payable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"sourceVault\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"targetVault\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"_asset\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"},{\"internalType\":\"bytes32\",\"name\":\"batchId\",\"type\":\"bytes32\"}],\"name\":\"kAssetTransfer\",\"outputs\":[],\"stateMutability\":\"payable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"sourceVault\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"},{\"internalType\":\"bytes32\",\"name\":\"batchId\",\"type\":\"bytes32\"}],\"name\":\"kSharesRequestPull\",\"outputs\":[],\"stateMutability\":\"payable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"sourceVault\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"},{\"internalType\":\"bytes32\",\"name\":\"batchId\",\"type\":\"bytes32\"}],\"name\":\"kSharesRequestPush\",\"outputs\":[],\"stateMutability\":\"payable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"asset\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"vault\",\"type\":\"address\"},{\"internalType\":\"bytes32\",\"name\":\"batchId\",\"type\":\"bytes32\"},{\"internalType\":\"uint256\",\"name\":\"totalAssets\",\"type\":\"uint256\"},{\"internalType\":\"uint64\",\"name\":\"lastFeesChargedManagement\",\"type\":\"uint64\"},{\"internalType\":\"uint64\",\"name\":\"lastFeesChargedPerformance\",\"type\":\"uint64\"}],\"name\":\"proposeSettleBatch\",\"outputs\":[{\"internalType\":\"bytes32\",\"name\":\"proposalId\",\"type\":\"bytes32\"}],\"stateMutability\":\"payable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"tolerance_\",\"type\":\"uint256\"}],\"name\":\"setMaxAllowedDelta\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"cooldown\",\"type\":\"uint256\"}],\"name\":\"setSettlementCooldown\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"vault\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"asset\",\"type\":\"address\"}],\"name\":\"virtualBalance\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"}],\"devdoc\":{\"details\":\"This interface defines the core functionality for kAssetRouter, which serves as the primary coordinator for all asset movements within the KAM protocol ecosystem. Key responsibilities include: (1) Managing asset flows from kMinter institutional deposits to DN vaults for yield generation, (2) Coordinating asset transfers between kStakingVaults for optimal allocation, (3) Processing batch settlements with yield distribution through kToken minting/burning, (4) Maintaining virtual balance tracking across all vaults, (5) Implementing settlement cooldown periods for security, (6) Executing peg protection mechanisms during market stress. The router acts as the central hub that enables efficient capital allocation while maintaining the 1:1 backing guarantee of kTokens through precise yield distribution and loss management across the protocol's vault network.\",\"events\":{\"AssetsPushed(address,uint256)\":{\"details\":\"This occurs when institutional users deposit assets through kMinter, and the router forwards these assets to the appropriate DN vault for yield farming strategies\",\"params\":{\"amount\":\"The quantity of assets being pushed to the vault\",\"from\":\"The address initiating the asset push (typically kMinter)\"}},\"AssetsRequestPulled(address,address,uint256)\":{\"details\":\"Part of the two-phase redemption process - assets are first requested, then later pulled after batch settlement. The batchReceiver is deployed to hold assets for distribution.\",\"params\":{\"amount\":\"The quantity of assets requested for redemption\",\"asset\":\"The underlying asset address being requested for redemption\",\"vault\":\"The vault address from which assets are being requested\"}},\"AssetsTransfered(address,address,address,uint256)\":{\"details\":\"This is a virtual transfer for accounting purposes - actual assets may remain in the same physical location while vault balances are updated to reflect the new allocation\",\"params\":{\"amount\":\"The quantity of assets being transferred between vaults\",\"asset\":\"The underlying asset address being transferred\",\"sourceVault\":\"The vault transferring assets (losing virtual balance)\",\"targetVault\":\"The vault receiving assets (gaining virtual balance)\"}},\"BatchSettled(address,bytes32,uint256)\":{\"details\":\"Indicates completion of yield distribution and final asset allocation for a batch\",\"params\":{\"batchId\":\"The batch identifier that was settled\",\"totalAssets\":\"The final total asset value in the vault after settlement\",\"vault\":\"The vault address that completed batch settlement\"}},\"ContractInitialized(address)\":{\"params\":{\"registry\":\"The address of the kRegistry contract that manages protocol configuration\"}},\"Deposited(address,address,uint256)\":{\"details\":\"Tracks all asset deposits whether from kMinter institutional flows or other sources\",\"params\":{\"amount\":\"The quantity of assets deposited\",\"asset\":\"The underlying asset address being deposited\",\"vault\":\"The vault address receiving the deposit\"}},\"MaxAllowedDeltaUpdated(uint256,uint256)\":{\"details\":\"Yield tolerance acts as a safety mechanism to prevent settlement proposals with excessive yield deviations that could indicate calculation errors or potential manipulation attempts\",\"params\":{\"newTolerance\":\"The new yield tolerance in basis points\",\"oldTolerance\":\"The previous yield tolerance in basis points\"}},\"PegProtectionActivated(address,uint256)\":{\"details\":\"Triggered when a vault cannot fulfill redemption requests, requiring asset transfers from other vaults to maintain the protocol's 1:1 backing guarantee\",\"params\":{\"shortfall\":\"The amount of assets needed to fulfill pending redemption requests\",\"vault\":\"The vault experiencing shortfall that triggered peg protection\"}},\"PegProtectionExecuted(address,address,uint256)\":{\"details\":\"Maintains protocol solvency by redistributing assets from surplus to deficit vaults\",\"params\":{\"amount\":\"The quantity of assets transferred for peg protection\",\"sourceVault\":\"The vault providing assets to cover the shortfall\",\"targetVault\":\"The vault receiving assets to fulfill its redemption obligations\"}},\"SettlementCancelled(bytes32,address,bytes32)\":{\"details\":\"Allows guardians to cancel potentially incorrect settlement proposals\",\"params\":{\"batchId\":\"The batch identifier for which settlement was cancelled\",\"proposalId\":\"The unique identifier of the cancelled proposal\",\"vault\":\"The vault address for which settlement was cancelled\"}},\"SettlementCooldownUpdated(uint256,uint256)\":{\"details\":\"Cooldown provides security by allowing time to verify settlement proposals before execution\",\"params\":{\"newCooldown\":\"The new cooldown period in seconds\",\"oldCooldown\":\"The previous cooldown period in seconds\"}},\"SettlementExecuted(bytes32,address,bytes32,address)\":{\"details\":\"Marks completion of the settlement process with yield distribution\",\"params\":{\"batchId\":\"The batch identifier that was settled\",\"executor\":\"The address that executed the settlement (guardian or admin)\",\"proposalId\":\"The unique identifier of the executed proposal\",\"vault\":\"The vault address that was settled\"}},\"SettlementProposed(bytes32,address,bytes32,uint256,int256,int256,uint256,uint256,uint256)\":{\"details\":\"Begins the settlement process with a security cooldown to allow verification\",\"params\":{\"batchId\":\"The batch identifier being settled\",\"executeAfter\":\"Timestamp after which the proposal can be executed\",\"lastFeesChargedManagement\":\"Last management fees charged\",\"lastFeesChargedPerformance\":\"Last performance fees charged\",\"netted\":\"Net amount of new deposits/redemptions in this batch\",\"proposalId\":\"The unique identifier for this settlement proposal\",\"totalAssets\":\"Total asset value in the vault after yield generation\",\"vault\":\"The vault address for which settlement is proposed\",\"yield\":\"Absolute yield amount generated in this batch\"}},\"SettlementUpdated(bytes32,uint256,uint256,uint256,bool)\":{\"details\":\"Allows for correction of settlement proposals before execution if needed\",\"params\":{\"netted\":\"Updated net amount of deposits/redemptions\",\"profit\":\"Updated profit flag (true for gains, false for losses)\",\"proposalId\":\"The unique identifier of the updated proposal\",\"totalAssets\":\"Updated total asset value in the vault\",\"yield\":\"Updated yield amount for distribution\"}},\"SharesRequestedPulled(address,bytes32,uint256)\":{\"details\":\"Coordinates share-based redemptions for retail users through the batch system\",\"params\":{\"amount\":\"The quantity of shares being pulled for redemption\",\"batchId\":\"The batch identifier for this redemption batch\",\"vault\":\"The kStakingVault requesting the share pull operation\"}},\"SharesRequestedPushed(address,bytes32,uint256)\":{\"details\":\"Part of the share-based accounting system for retail users in kStakingVaults\",\"params\":{\"amount\":\"The quantity of shares being pushed\",\"batchId\":\"The batch identifier for this operation\",\"vault\":\"The kStakingVault requesting the share push operation\"}},\"SharesSettled(address[],bytes32,uint256,uint256[],uint256)\":{\"details\":\"Marks the completion of a cross-vault settlement with final share price determination\",\"params\":{\"batchId\":\"The batch identifier for this settlement period\",\"sharePrice\":\"The final calculated share price for this settlement period\",\"totalAssets\":\"Array of total assets for each vault after settlement\",\"totalRequestedShares\":\"Total shares requested across all vaults in this settlement\",\"vaults\":\"Array of vault addresses participating in the settlement\"}},\"YieldDistributed(address,int256)\":{\"details\":\"This is the core mechanism for maintaining 1:1 backing while distributing yield. Positive yield increases kToken supply, negative yield (losses) decreases supply.\",\"params\":{\"vault\":\"The vault that generated the yield being distributed\",\"yield\":\"The amount of yield (positive or negative) being distributed\"}},\"YieldExceedsMaxDeltaWarning(address,address,bytes32,int256,uint256)\":{\"params\":{\"asset\":\"The underlying asset address\",\"batchId\":\"The batch identifier\",\"maxAllowedYield\":\"The maximum allowed yield\",\"vault\":\"The DN vault address\",\"yield\":\"The yield amount\"}}},\"kind\":\"dev\",\"methods\":{\"canExecuteProposal(bytes32)\":{\"details\":\"Validates all execution requirements: (1) proposal exists and is pending, (2) cooldown period has elapsed, (3) proposal hasn't been cancelled. Returns both boolean result and human-readable reason for failures, enabling better error handling and user feedback.\",\"params\":{\"proposalId\":\"The unique identifier of the proposal to check\"},\"returns\":{\"canExecute\":\"True if the proposal can be executed immediately\",\"reason\":\"Descriptive message explaining why execution is blocked (if applicable)\"}},\"cancelProposal(bytes32)\":{\"details\":\"Provides a safety mechanism for guardians to cancel potentially incorrect settlement proposals. This can be used when: (1) yield calculations appear incorrect, (2) system errors are detected, (3) market conditions require recalculation. Cancellation allows for proposal correction and resubmission with accurate data, preventing incorrect yield distribution that could affect the protocol's 1:1 backing guarantee. Only callable before the proposal execution.\",\"params\":{\"proposalId\":\"The unique identifier of the settlement proposal to cancel\"}},\"contractName()\":{\"details\":\"Used for contract identification and logging purposes. The name should be consistent across all versions of the same contract type. This enables external systems and other contracts to identify the contract's purpose and role within the protocol ecosystem.\",\"returns\":{\"_0\":\"The contract name as a string (e.g., \\\"kMinter\\\", \\\"kAssetRouter\\\", \\\"kRegistry\\\")\"}},\"contractVersion()\":{\"details\":\"Used for upgrade management and compatibility checking within the protocol. The version string should follow semantic versioning (e.g., \\\"1.0.0\\\") to clearly indicate major, minor, and patch updates. This enables the protocol governance and monitoring systems to track deployed versions and ensure compatibility between interacting components.\",\"returns\":{\"_0\":\"The contract version as a string following semantic versioning (e.g., \\\"1.0.0\\\")\"}},\"executeSettleBatch(bytes32)\":{\"details\":\"This function completes the yield distribution process by: (1) verifying the cooldown period has passed, (2) executing the actual kToken minting/burning to distribute yield or account for losses, (3) updating all vault balances and user accounting, (4) processing any pending redemption requests from the batch. This is where the 1:1 backing is maintained - the kToken supply is adjusted to exactly reflect the underlying asset changes, ensuring every kToken remains backed by real assets plus distributed yield.\",\"params\":{\"proposalId\":\"The unique identifier of the settlement proposal to execute\"}},\"getBatchIdBalances(address,bytes32)\":{\"details\":\"Returns the deposited and requested amounts that are tracked virtually for batch processing. These balances coordinate institutional flows (kMinter) and retail flows (kStakingVault) within the same settlement period, ensuring fair processing and accurate yield distribution across all participants in the batch.\",\"params\":{\"batchId\":\"The batch identifier to retrieve balance information\",\"vault\":\"The vault address to query batch balances for\"},\"returns\":{\"deposited\":\"Total amount of assets deposited into this batch\",\"requested\":\"Total amount of assets requested for redemption from this batch\"}},\"getDNVaultByAsset(address)\":{\"details\":\"Each supported asset (USDC, WBTC, etc.) has a designated DN vault that handles yield farming strategies. This mapping is critical for routing institutional deposits and coordinating settlement processes across the protocol's vault network.\",\"params\":{\"asset\":\"The underlying asset address to query\"},\"returns\":{\"vault\":\"The DN vault address that generates yield for this asset\"}},\"getPendingProposals(address)\":{\"details\":\"Returns proposal IDs that have been created but not yet executed or cancelled. Used for monitoring and management of the settlement queue. Essential for guardians to track proposals awaiting verification during the cooldown period.\",\"params\":{\"vault_\":\"The vault address to query for pending settlement proposals\"},\"returns\":{\"pendingProposals\":\"Array of proposal IDs currently pending execution\"}},\"getRequestedShares(address,bytes32)\":{\"details\":\"Tracks share-based redemption requests from retail users in kStakingVaults. This is separate from asset-based tracking and enables the protocol to coordinate both institutional (asset-based) and retail (share-based) operations within the same batch settlement process, ensuring consistent share price calculations.\",\"params\":{\"batchId\":\"The batch identifier for the redemption period\",\"vault\":\"The kStakingVault address to query\"},\"returns\":{\"_0\":\"The total amount of shares requested for redemption in this batch\"}},\"getSettlementCooldown()\":{\"details\":\"The cooldown period determines how long proposals must wait before execution. This security mechanism allows guardians to verify yield calculations and prevents immediate execution of potentially malicious or incorrect proposals. Critical for maintaining protocol integrity during yield distribution processes.\",\"returns\":{\"cooldown\":\"The current cooldown period in seconds\"}},\"getSettlementProposal(bytes32)\":{\"details\":\"Returns the full VaultSettlementProposal struct containing all parameters needed for yield distribution verification. Essential for guardians to review proposal accuracy during the cooldown period before execution. Contains asset amounts, yield calculations, and timing information for comprehensive proposal analysis.\",\"params\":{\"proposalId\":\"The unique identifier of the settlement proposal to query\"},\"returns\":{\"proposal\":\"The complete settlement proposal struct with all details\"}},\"getYieldTolerance()\":{\"details\":\"The yield tolerance determines the maximum acceptable yield deviation before settlement proposals are automatically rejected. This acts as a safety mechanism to prevent processing of settlement proposals with excessive yield values that could indicate calculation errors or potential manipulation. The tolerance is expressed in basis points where 10000 equals 100%.\",\"returns\":{\"tolerance\":\"The current yield tolerance in basis points\"}},\"isPaused()\":{\"details\":\"When paused, all critical functions (asset movements, settlements) are halted for emergency protection. This affects the entire protocol's money flow coordination, preventing new deposits, redemptions, and yield distributions until unpaused.\",\"returns\":{\"_0\":\"True if the contract is paused and operations are halted\"}},\"kAssetPush(address,uint256,bytes32)\":{\"details\":\"This function is called by kMinter when institutional users deposit underlying assets. The process involves: (1) receiving assets already transferred from kMinter, (2) forwarding them to the appropriate DN vault for the asset type, (3) updating virtual balance tracking for accurate accounting. This enables immediate kToken minting (1:1 with deposits) while assets begin generating yield in the vault system. The assets enter the current batch for eventual settlement and yield distribution back to kToken holders.\",\"params\":{\"_asset\":\"The underlying asset address being deposited (must be registered in protocol)\",\"amount\":\"The quantity of assets being pushed to the vault for yield generation\",\"batchId\":\"The current batch identifier from the DN vault for tracking and settlement\"}},\"kAssetRequestPull(address,uint256,bytes32)\":{\"details\":\"This function initiates the first phase of the institutional redemption process. The workflow involves: (1) registering the redemption request with the vault, (2) creating a kBatchReceiver minimal proxy to hold assets for distribution, (3) updating virtual balance accounting, (4) preparing for batch settlement. The actual asset transfer occurs later during batch settlement when the vault processes all pending requests together. This two-phase approach optimizes gas costs and ensures fair settlement across all institutional redemption requests in the batch.\",\"params\":{\"_asset\":\"The underlying asset address being redeemed\",\"amount\":\"The quantity of assets requested for redemption\",\"batchId\":\"The batch identifier for coordinating this redemption with other requests\"}},\"kAssetTransfer(address,address,address,uint256,bytes32)\":{\"details\":\"This function enables dynamic rebalancing of assets across the vault network to optimize yields and manage capacity. The transfer is virtual in nature - actual underlying assets may remain in the same physical vault while accounting balances are updated. This mechanism allows for: (1) moving assets from lower-yield to higher-yield opportunities, (2) rebalancing vault capacity during high demand periods, (3) optimizing capital efficiency across the protocol. The batch system ensures all transfers are processed fairly during settlement periods.\",\"params\":{\"_asset\":\"The underlying asset address being transferred between vaults\",\"amount\":\"The quantity of assets to transfer for rebalancing\",\"batchId\":\"The batch identifier for coordinating this transfer with settlement\",\"sourceVault\":\"The kStakingVault address transferring assets (will lose virtual balance)\",\"targetVault\":\"The kStakingVault address receiving assets (will gain virtual balance)\"}},\"kSharesRequestPull(address,uint256,bytes32)\":{\"details\":\"This function handles the share-based redemption process for retail users withdrawing from kStakingVaults. The process involves: (1) calculating share amounts to redeem based on user requests, (2) preparing for conversion back to kTokens at settlement time, (3) coordinating with the batch settlement system for fair pricing. Unlike institutional redemptions through kMinter, this uses share-based accounting to handle smaller, more frequent retail operations efficiently through the vault's batch processing system.\",\"params\":{\"amount\":\"The quantity of shares being requested for pull from users\",\"batchId\":\"The batch identifier for coordinating share redemptions with settlement\",\"sourceVault\":\"The kStakingVault address requesting share pull for redemptions\"}},\"kSharesRequestPush(address,uint256,bytes32)\":{\"details\":\"This function is part of the share-based accounting system for retail users in kStakingVaults. When users stake kTokens, the vault requests shares to be pushed to track their ownership. The process coordinates: (1) conversion of kTokens to vault shares at current share price, (2) updating user balances in the vault system, (3) preparing for batch settlement. Share requests are batched to optimize gas costs and ensure fair pricing across all users in the same settlement period.\",\"params\":{\"amount\":\"The quantity of shares being requested for push to users\",\"batchId\":\"The batch identifier for coordinating share operations with settlement\",\"sourceVault\":\"The kStakingVault address requesting share push operations\"}},\"proposeSettleBatch(address,address,bytes32,uint256,uint64,uint64)\":{\"details\":\"This is the core function that initiates yield distribution in the KAM protocol. The settlement process involves: (1) calculating final yields after a batch period, (2) determining net new deposits/ redemptions, (3) creating a proposal with cooldown period for security verification, (4) preparing for kToken supply adjustment to maintain 1:1 backing. Positive yields result in kToken minting (distributing gains to all holders), while losses result in kToken burning (socializing losses). The cooldown period allows guardians to verify calculations before execution, ensuring protocol integrity.\",\"params\":{\"asset\":\"The underlying asset address being settled (USDC, WBTC, etc.)\",\"batchId\":\"The batch identifier for this settlement period\",\"lastFeesChargedManagement\":\"Last management fees charged\",\"lastFeesChargedPerformance\":\"Last performance fees charged\",\"totalAssets\":\"Total asset value in the vault after yield generation/loss\",\"vault\":\"The DN vault address where yield was generated\"}},\"setMaxAllowedDelta(uint256)\":{\"details\":\"This function allows protocol governance to adjust the maximum acceptable yield deviation before settlement proposals are rejected. The yield tolerance acts as a safety mechanism to prevent settlement proposals with extremely high or low yield values that could indicate calculation errors, data corruption, or potential manipulation attempts. Setting an appropriate tolerance balances protocol safety with operational flexibility, allowing normal yield fluctuations while blocking suspicious proposals. Only admin roles can modify this parameter as it affects protocol safety.\",\"params\":{\"tolerance_\":\"The new yield tolerance in basis points (e.g., 1000 = 10%)\"}},\"setSettlementCooldown(uint256)\":{\"details\":\"The cooldown period provides critical security by requiring a delay between proposal creation and execution. This allows: (1) protocol guardians to verify yield calculations, (2) detection of potential errors or malicious proposals, (3) emergency intervention if needed. The cooldown should balance security (longer is safer) with operational efficiency (shorter enables faster yield distribution). Only admin roles can modify this parameter as it affects protocol safety.\",\"params\":{\"cooldown\":\"The new cooldown period in seconds before settlement proposals can be executed\"}},\"virtualBalance(address,address)\":{\"details\":\"This function aggregates asset balances across all adapters connected to a vault to determine the total virtual balance available for operations. Essential for coordination between physical asset locations and protocol accounting. Used for settlement calculations and ensuring sufficient assets are available for redemptions and transfers within the money flow system.\",\"params\":{\"asset\":\"The underlying asset of the vault\",\"vault\":\"The vault address to calculate virtual balance for\"},\"returns\":{\"_0\":\"balance The total virtual asset balance across all vault adapters\"}}},\"title\":\"IkAssetRouter\",\"version\":1},\"userdoc\":{\"events\":{\"AssetsPushed(address,uint256)\":{\"notice\":\"Emitted when assets are pushed from kMinter to a DN vault for yield generation\"},\"AssetsRequestPulled(address,address,uint256)\":{\"notice\":\"Emitted when assets are requested for pull from a vault to fulfill kMinter redemptions\"},\"AssetsTransfered(address,address,address,uint256)\":{\"notice\":\"Emitted when assets are transferred between kStakingVaults for optimal allocation\"},\"BatchSettled(address,bytes32,uint256)\":{\"notice\":\"Emitted when a vault batch is settled with final asset accounting\"},\"ContractInitialized(address)\":{\"notice\":\"Emitted when the kAssetRouter contract is initialized with registry configuration\"},\"Deposited(address,address,uint256)\":{\"notice\":\"Emitted when assets are deposited into a vault through various protocol mechanisms\"},\"MaxAllowedDeltaUpdated(uint256,uint256)\":{\"notice\":\"Emitted when the yield tolerance threshold is updated by protocol governance\"},\"PegProtectionActivated(address,uint256)\":{\"notice\":\"Emitted when peg protection mechanism is activated due to vault shortfall\"},\"PegProtectionExecuted(address,address,uint256)\":{\"notice\":\"Emitted when peg protection transfers assets between vaults to cover shortfalls\"},\"SettlementCancelled(bytes32,address,bytes32)\":{\"notice\":\"Emitted when a settlement proposal is cancelled before execution\"},\"SettlementCooldownUpdated(uint256,uint256)\":{\"notice\":\"Emitted when the settlement cooldown period is updated by protocol governance\"},\"SettlementExecuted(bytes32,address,bytes32,address)\":{\"notice\":\"Emitted when a settlement proposal is successfully executed\"},\"SettlementProposed(bytes32,address,bytes32,uint256,int256,int256,uint256,uint256,uint256)\":{\"notice\":\"Emitted when a new settlement proposal is created with cooldown period\"},\"SettlementUpdated(bytes32,uint256,uint256,uint256,bool)\":{\"notice\":\"Emitted when a settlement proposal is updated with new yield calculation data\"},\"SharesRequestedPulled(address,bytes32,uint256)\":{\"notice\":\"Emitted when shares are requested for pull operations in kStakingVault redemptions\"},\"SharesRequestedPushed(address,bytes32,uint256)\":{\"notice\":\"Emitted when shares are requested for push operations in kStakingVault flows\"},\"SharesSettled(address[],bytes32,uint256,uint256[],uint256)\":{\"notice\":\"Emitted when shares are settled across multiple vaults with calculated share prices\"},\"YieldDistributed(address,int256)\":{\"notice\":\"Emitted when yield is distributed through kToken minting/burning operations\"},\"YieldExceedsMaxDeltaWarning(address,address,bytes32,int256,uint256)\":{\"notice\":\"Emitted when yield exceeds the tolerance threshold\"}},\"kind\":\"user\",\"methods\":{\"canExecuteProposal(bytes32)\":{\"notice\":\"Checks if a settlement proposal is ready for execution with detailed status\"},\"cancelProposal(bytes32)\":{\"notice\":\"Cancels a settlement proposal before execution if errors are detected\"},\"contractName()\":{\"notice\":\"Returns the human-readable name identifier for this contract type\"},\"contractVersion()\":{\"notice\":\"Returns the version identifier for this contract implementation\"},\"executeSettleBatch(bytes32)\":{\"notice\":\"Executes a settlement proposal after the security cooldown period has elapsed\"},\"getBatchIdBalances(address,bytes32)\":{\"notice\":\"Retrieves the virtual balance accounting for a specific batch in a vault\"},\"getDNVaultByAsset(address)\":{\"notice\":\"Gets the DN vault address responsible for yield generation for a specific asset\"},\"getPendingProposals(address)\":{\"notice\":\"Retrieves all pending settlement proposals for a specific vault\"},\"getRequestedShares(address,bytes32)\":{\"notice\":\"Retrieves the total shares requested for redemption in a specific vault batch\"},\"getSettlementCooldown()\":{\"notice\":\"Gets the current security cooldown period for settlement proposals\"},\"getSettlementProposal(bytes32)\":{\"notice\":\"Retrieves complete details of a specific settlement proposal\"},\"getYieldTolerance()\":{\"notice\":\"Gets the current yield tolerance threshold for settlement proposals\"},\"isPaused()\":{\"notice\":\"Checks if the kAssetRouter contract is currently paused\"},\"kAssetPush(address,uint256,bytes32)\":{\"notice\":\"Pushes assets from kMinter institutional deposits to the designated DN vault for yield generation\"},\"kAssetRequestPull(address,uint256,bytes32)\":{\"notice\":\"Requests asset withdrawal from vault to fulfill institutional redemption through kMinter\"},\"kAssetTransfer(address,address,address,uint256,bytes32)\":{\"notice\":\"Transfers assets between kStakingVaults for optimal capital allocation and yield optimization\"},\"kSharesRequestPull(address,uint256,bytes32)\":{\"notice\":\"Requests shares to be pulled for kStakingVault redemption operations\"},\"kSharesRequestPush(address,uint256,bytes32)\":{\"notice\":\"Requests shares to be pushed for kStakingVault staking operations and batch processing\"},\"proposeSettleBatch(address,address,bytes32,uint256,uint64,uint64)\":{\"notice\":\"Proposes a batch settlement for a vault with yield distribution through kToken minting/burning\"},\"setMaxAllowedDelta(uint256)\":{\"notice\":\"Updates the yield tolerance threshold for settlement proposals\"},\"setSettlementCooldown(uint256)\":{\"notice\":\"Sets the security cooldown period for settlement proposals\"},\"virtualBalance(address,address)\":{\"notice\":\"Retrieves the virtual balance of assets for a vault across all its adapters\"}},\"notice\":\"Central money flow coordinator for the KAM protocol managing all asset movements and settlements\",\"version\":1}},\"settings\":{\"compilationTarget\":{\"src/interfaces/IkAssetRouter.sol\":\"IkAssetRouter\"},\"evmVersion\":\"prague\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\"},\"optimizer\":{\"enabled\":true,\"runs\":10000},\"remappings\":[\":forge-std-1.9.7/=dependencies/forge-std-1.9.7/src/\",\":forge-std/=dependencies/forge-std-1.9.7/src/\",\":kam/src/=src/\",\":kam/test/=test/\",\":openzeppelin/=src/vendor/openzeppelin/\",\":solady/=src/vendor/solady/\",\":uniswap/=src/vendor/uniswap/\"],\"viaIR\":true},\"sources\":{\"src/interfaces/IVersioned.sol\":{\"keccak256\":\"0x23e7a218ecbf42e18656d069ee25302c74c5027d1dcfa4e1b9c54501d76a72f5\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://2e2643eaf8cc8f8bc04dd90c6cbf5c1429de314dc85e93c254b1deae782af6eb\",\"dweb:/ipfs/Qmb4s6G5PNFLy6iANEqHvanKZ3Tu1ahfW5V9ppWCxKTiDD\"]},\"src/interfaces/IkAssetRouter.sol\":{\"keccak256\":\"0x3e8fa8095c97474b5099ae23b12ff76e166bc9d243b493dc3e170ea24d8ec16f\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://2dfd7df88cb6233d906a020a91d291a5770e9d4e331ddb3a7e12778a9d2a2bb6\",\"dweb:/ipfs/QmPqmLmPj6BycLExz4tNf1YcGzyNYpYK8PGGm1pugzSZW7\"]}},\"version\":1}","metadata":{"compiler":{"version":"0.8.30+commit.73712a01"},"language":"Solidity","output":{"abi":[{"inputs":[{"internalType":"address","name":"from","type":"address","indexed":true},{"internalType":"uint256","name":"amount","type":"uint256","indexed":false}],"type":"event","name":"AssetsPushed","anonymous":false},{"inputs":[{"internalType":"address","name":"vault","type":"address","indexed":true},{"internalType":"address","name":"asset","type":"address","indexed":true},{"internalType":"uint256","name":"amount","type":"uint256","indexed":false}],"type":"event","name":"AssetsRequestPulled","anonymous":false},{"inputs":[{"internalType":"address","name":"sourceVault","type":"address","indexed":true},{"internalType":"address","name":"targetVault","type":"address","indexed":true},{"internalType":"address","name":"asset","type":"address","indexed":true},{"internalType":"uint256","name":"amount","type":"uint256","indexed":false}],"type":"event","name":"AssetsTransfered","anonymous":false},{"inputs":[{"internalType":"address","name":"vault","type":"address","indexed":true},{"internalType":"bytes32","name":"batchId","type":"bytes32","indexed":true},{"internalType":"uint256","name":"totalAssets","type":"uint256","indexed":false}],"type":"event","name":"BatchSettled","anonymous":false},{"inputs":[{"internalType":"address","name":"registry","type":"address","indexed":true}],"type":"event","name":"ContractInitialized","anonymous":false},{"inputs":[{"internalType":"address","name":"vault","type":"address","indexed":true},{"internalType":"address","name":"asset","type":"address","indexed":true},{"internalType":"uint256","name":"amount","type":"uint256","indexed":false}],"type":"event","name":"Deposited","anonymous":false},{"inputs":[{"internalType":"uint256","name":"oldTolerance","type":"uint256","indexed":false},{"internalType":"uint256","name":"newTolerance","type":"uint256","indexed":false}],"type":"event","name":"MaxAllowedDeltaUpdated","anonymous":false},{"inputs":[{"internalType":"address","name":"vault","type":"address","indexed":true},{"internalType":"uint256","name":"shortfall","type":"uint256","indexed":false}],"type":"event","name":"PegProtectionActivated","anonymous":false},{"inputs":[{"internalType":"address","name":"sourceVault","type":"address","indexed":true},{"internalType":"address","name":"targetVault","type":"address","indexed":true},{"internalType":"uint256","name":"amount","type":"uint256","indexed":false}],"type":"event","name":"PegProtectionExecuted","anonymous":false},{"inputs":[{"internalType":"bytes32","name":"proposalId","type":"bytes32","indexed":true},{"internalType":"address","name":"vault","type":"address","indexed":true},{"internalType":"bytes32","name":"batchId","type":"bytes32","indexed":true}],"type":"event","name":"SettlementCancelled","anonymous":false},{"inputs":[{"internalType":"uint256","name":"oldCooldown","type":"uint256","indexed":false},{"internalType":"uint256","name":"newCooldown","type":"uint256","indexed":false}],"type":"event","name":"SettlementCooldownUpdated","anonymous":false},{"inputs":[{"internalType":"bytes32","name":"proposalId","type":"bytes32","indexed":true},{"internalType":"address","name":"vault","type":"address","indexed":true},{"internalType":"bytes32","name":"batchId","type":"bytes32","indexed":true},{"internalType":"address","name":"executor","type":"address","indexed":false}],"type":"event","name":"SettlementExecuted","anonymous":false},{"inputs":[{"internalType":"bytes32","name":"proposalId","type":"bytes32","indexed":true},{"internalType":"address","name":"vault","type":"address","indexed":true},{"internalType":"bytes32","name":"batchId","type":"bytes32","indexed":true},{"internalType":"uint256","name":"totalAssets","type":"uint256","indexed":false},{"internalType":"int256","name":"netted","type":"int256","indexed":false},{"internalType":"int256","name":"yield","type":"int256","indexed":false},{"internalType":"uint256","name":"executeAfter","type":"uint256","indexed":false},{"internalType":"uint256","name":"lastFeesChargedManagement","type":"uint256","indexed":false},{"internalType":"uint256","name":"lastFeesChargedPerformance","type":"uint256","indexed":false}],"type":"event","name":"SettlementProposed","anonymous":false},{"inputs":[{"internalType":"bytes32","name":"proposalId","type":"bytes32","indexed":true},{"internalType":"uint256","name":"totalAssets","type":"uint256","indexed":false},{"internalType":"uint256","name":"netted","type":"uint256","indexed":false},{"internalType":"uint256","name":"yield","type":"uint256","indexed":false},{"internalType":"bool","name":"profit","type":"bool","indexed":false}],"type":"event","name":"SettlementUpdated","anonymous":false},{"inputs":[{"internalType":"address","name":"vault","type":"address","indexed":true},{"internalType":"bytes32","name":"batchId","type":"bytes32","indexed":true},{"internalType":"uint256","name":"amount","type":"uint256","indexed":false}],"type":"event","name":"SharesRequestedPulled","anonymous":false},{"inputs":[{"internalType":"address","name":"vault","type":"address","indexed":true},{"internalType":"bytes32","name":"batchId","type":"bytes32","indexed":true},{"internalType":"uint256","name":"amount","type":"uint256","indexed":false}],"type":"event","name":"SharesRequestedPushed","anonymous":false},{"inputs":[{"internalType":"address[]","name":"vaults","type":"address[]","indexed":false},{"internalType":"bytes32","name":"batchId","type":"bytes32","indexed":true},{"internalType":"uint256","name":"totalRequestedShares","type":"uint256","indexed":false},{"internalType":"uint256[]","name":"totalAssets","type":"uint256[]","indexed":false},{"internalType":"uint256","name":"sharePrice","type":"uint256","indexed":false}],"type":"event","name":"SharesSettled","anonymous":false},{"inputs":[{"internalType":"address","name":"vault","type":"address","indexed":true},{"internalType":"int256","name":"yield","type":"int256","indexed":false}],"type":"event","name":"YieldDistributed","anonymous":false},{"inputs":[{"internalType":"address","name":"vault","type":"address","indexed":false},{"internalType":"address","name":"asset","type":"address","indexed":false},{"internalType":"bytes32","name":"batchId","type":"bytes32","indexed":false},{"internalType":"int256","name":"yield","type":"int256","indexed":false},{"internalType":"uint256","name":"maxAllowedYield","type":"uint256","indexed":false}],"type":"event","name":"YieldExceedsMaxDeltaWarning","anonymous":false},{"inputs":[{"internalType":"bytes32","name":"proposalId","type":"bytes32"}],"stateMutability":"view","type":"function","name":"canExecuteProposal","outputs":[{"internalType":"bool","name":"canExecute","type":"bool"},{"internalType":"string","name":"reason","type":"string"}]},{"inputs":[{"internalType":"bytes32","name":"proposalId","type":"bytes32"}],"stateMutability":"nonpayable","type":"function","name":"cancelProposal"},{"inputs":[],"stateMutability":"pure","type":"function","name":"contractName","outputs":[{"internalType":"string","name":"","type":"string"}]},{"inputs":[],"stateMutability":"pure","type":"function","name":"contractVersion","outputs":[{"internalType":"string","name":"","type":"string"}]},{"inputs":[{"internalType":"bytes32","name":"proposalId","type":"bytes32"}],"stateMutability":"payable","type":"function","name":"executeSettleBatch"},{"inputs":[{"internalType":"address","name":"vault","type":"address"},{"internalType":"bytes32","name":"batchId","type":"bytes32"}],"stateMutability":"view","type":"function","name":"getBatchIdBalances","outputs":[{"internalType":"uint256","name":"deposited","type":"uint256"},{"internalType":"uint256","name":"requested","type":"uint256"}]},{"inputs":[{"internalType":"address","name":"asset","type":"address"}],"stateMutability":"view","type":"function","name":"getDNVaultByAsset","outputs":[{"internalType":"address","name":"vault","type":"address"}]},{"inputs":[{"internalType":"address","name":"vault_","type":"address"}],"stateMutability":"view","type":"function","name":"getPendingProposals","outputs":[{"internalType":"bytes32[]","name":"pendingProposals","type":"bytes32[]"}]},{"inputs":[{"internalType":"address","name":"vault","type":"address"},{"internalType":"bytes32","name":"batchId","type":"bytes32"}],"stateMutability":"view","type":"function","name":"getRequestedShares","outputs":[{"internalType":"uint256","name":"","type":"uint256"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"getSettlementCooldown","outputs":[{"internalType":"uint256","name":"cooldown","type":"uint256"}]},{"inputs":[{"internalType":"bytes32","name":"proposalId","type":"bytes32"}],"stateMutability":"view","type":"function","name":"getSettlementProposal","outputs":[{"internalType":"struct IkAssetRouter.VaultSettlementProposal","name":"proposal","type":"tuple","components":[{"internalType":"address","name":"asset","type":"address"},{"internalType":"address","name":"vault","type":"address"},{"internalType":"bytes32","name":"batchId","type":"bytes32"},{"internalType":"uint256","name":"totalAssets","type":"uint256"},{"internalType":"int256","name":"netted","type":"int256"},{"internalType":"int256","name":"yield","type":"int256"},{"internalType":"uint64","name":"executeAfter","type":"uint64"},{"internalType":"uint64","name":"lastFeesChargedManagement","type":"uint64"},{"internalType":"uint64","name":"lastFeesChargedPerformance","type":"uint64"}]}]},{"inputs":[],"stateMutability":"view","type":"function","name":"getYieldTolerance","outputs":[{"internalType":"uint256","name":"tolerance","type":"uint256"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"isPaused","outputs":[{"internalType":"bool","name":"","type":"bool"}]},{"inputs":[{"internalType":"address","name":"_asset","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"},{"internalType":"bytes32","name":"batchId","type":"bytes32"}],"stateMutability":"payable","type":"function","name":"kAssetPush"},{"inputs":[{"internalType":"address","name":"_asset","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"},{"internalType":"bytes32","name":"batchId","type":"bytes32"}],"stateMutability":"payable","type":"function","name":"kAssetRequestPull"},{"inputs":[{"internalType":"address","name":"sourceVault","type":"address"},{"internalType":"address","name":"targetVault","type":"address"},{"internalType":"address","name":"_asset","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"},{"internalType":"bytes32","name":"batchId","type":"bytes32"}],"stateMutability":"payable","type":"function","name":"kAssetTransfer"},{"inputs":[{"internalType":"address","name":"sourceVault","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"},{"internalType":"bytes32","name":"batchId","type":"bytes32"}],"stateMutability":"payable","type":"function","name":"kSharesRequestPull"},{"inputs":[{"internalType":"address","name":"sourceVault","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"},{"internalType":"bytes32","name":"batchId","type":"bytes32"}],"stateMutability":"payable","type":"function","name":"kSharesRequestPush"},{"inputs":[{"internalType":"address","name":"asset","type":"address"},{"internalType":"address","name":"vault","type":"address"},{"internalType":"bytes32","name":"batchId","type":"bytes32"},{"internalType":"uint256","name":"totalAssets","type":"uint256"},{"internalType":"uint64","name":"lastFeesChargedManagement","type":"uint64"},{"internalType":"uint64","name":"lastFeesChargedPerformance","type":"uint64"}],"stateMutability":"payable","type":"function","name":"proposeSettleBatch","outputs":[{"internalType":"bytes32","name":"proposalId","type":"bytes32"}]},{"inputs":[{"internalType":"uint256","name":"tolerance_","type":"uint256"}],"stateMutability":"nonpayable","type":"function","name":"setMaxAllowedDelta"},{"inputs":[{"internalType":"uint256","name":"cooldown","type":"uint256"}],"stateMutability":"nonpayable","type":"function","name":"setSettlementCooldown"},{"inputs":[{"internalType":"address","name":"vault","type":"address"},{"internalType":"address","name":"asset","type":"address"}],"stateMutability":"view","type":"function","name":"virtualBalance","outputs":[{"internalType":"uint256","name":"","type":"uint256"}]}],"devdoc":{"kind":"dev","methods":{"canExecuteProposal(bytes32)":{"details":"Validates all execution requirements: (1) proposal exists and is pending, (2) cooldown period has elapsed, (3) proposal hasn't been cancelled. Returns both boolean result and human-readable reason for failures, enabling better error handling and user feedback.","params":{"proposalId":"The unique identifier of the proposal to check"},"returns":{"canExecute":"True if the proposal can be executed immediately","reason":"Descriptive message explaining why execution is blocked (if applicable)"}},"cancelProposal(bytes32)":{"details":"Provides a safety mechanism for guardians to cancel potentially incorrect settlement proposals. This can be used when: (1) yield calculations appear incorrect, (2) system errors are detected, (3) market conditions require recalculation. Cancellation allows for proposal correction and resubmission with accurate data, preventing incorrect yield distribution that could affect the protocol's 1:1 backing guarantee. Only callable before the proposal execution.","params":{"proposalId":"The unique identifier of the settlement proposal to cancel"}},"contractName()":{"details":"Used for contract identification and logging purposes. The name should be consistent across all versions of the same contract type. This enables external systems and other contracts to identify the contract's purpose and role within the protocol ecosystem.","returns":{"_0":"The contract name as a string (e.g., \"kMinter\", \"kAssetRouter\", \"kRegistry\")"}},"contractVersion()":{"details":"Used for upgrade management and compatibility checking within the protocol. The version string should follow semantic versioning (e.g., \"1.0.0\") to clearly indicate major, minor, and patch updates. This enables the protocol governance and monitoring systems to track deployed versions and ensure compatibility between interacting components.","returns":{"_0":"The contract version as a string following semantic versioning (e.g., \"1.0.0\")"}},"executeSettleBatch(bytes32)":{"details":"This function completes the yield distribution process by: (1) verifying the cooldown period has passed, (2) executing the actual kToken minting/burning to distribute yield or account for losses, (3) updating all vault balances and user accounting, (4) processing any pending redemption requests from the batch. This is where the 1:1 backing is maintained - the kToken supply is adjusted to exactly reflect the underlying asset changes, ensuring every kToken remains backed by real assets plus distributed yield.","params":{"proposalId":"The unique identifier of the settlement proposal to execute"}},"getBatchIdBalances(address,bytes32)":{"details":"Returns the deposited and requested amounts that are tracked virtually for batch processing. These balances coordinate institutional flows (kMinter) and retail flows (kStakingVault) within the same settlement period, ensuring fair processing and accurate yield distribution across all participants in the batch.","params":{"batchId":"The batch identifier to retrieve balance information","vault":"The vault address to query batch balances for"},"returns":{"deposited":"Total amount of assets deposited into this batch","requested":"Total amount of assets requested for redemption from this batch"}},"getDNVaultByAsset(address)":{"details":"Each supported asset (USDC, WBTC, etc.) has a designated DN vault that handles yield farming strategies. This mapping is critical for routing institutional deposits and coordinating settlement processes across the protocol's vault network.","params":{"asset":"The underlying asset address to query"},"returns":{"vault":"The DN vault address that generates yield for this asset"}},"getPendingProposals(address)":{"details":"Returns proposal IDs that have been created but not yet executed or cancelled. Used for monitoring and management of the settlement queue. Essential for guardians to track proposals awaiting verification during the cooldown period.","params":{"vault_":"The vault address to query for pending settlement proposals"},"returns":{"pendingProposals":"Array of proposal IDs currently pending execution"}},"getRequestedShares(address,bytes32)":{"details":"Tracks share-based redemption requests from retail users in kStakingVaults. This is separate from asset-based tracking and enables the protocol to coordinate both institutional (asset-based) and retail (share-based) operations within the same batch settlement process, ensuring consistent share price calculations.","params":{"batchId":"The batch identifier for the redemption period","vault":"The kStakingVault address to query"},"returns":{"_0":"The total amount of shares requested for redemption in this batch"}},"getSettlementCooldown()":{"details":"The cooldown period determines how long proposals must wait before execution. This security mechanism allows guardians to verify yield calculations and prevents immediate execution of potentially malicious or incorrect proposals. Critical for maintaining protocol integrity during yield distribution processes.","returns":{"cooldown":"The current cooldown period in seconds"}},"getSettlementProposal(bytes32)":{"details":"Returns the full VaultSettlementProposal struct containing all parameters needed for yield distribution verification. Essential for guardians to review proposal accuracy during the cooldown period before execution. Contains asset amounts, yield calculations, and timing information for comprehensive proposal analysis.","params":{"proposalId":"The unique identifier of the settlement proposal to query"},"returns":{"proposal":"The complete settlement proposal struct with all details"}},"getYieldTolerance()":{"details":"The yield tolerance determines the maximum acceptable yield deviation before settlement proposals are automatically rejected. This acts as a safety mechanism to prevent processing of settlement proposals with excessive yield values that could indicate calculation errors or potential manipulation. The tolerance is expressed in basis points where 10000 equals 100%.","returns":{"tolerance":"The current yield tolerance in basis points"}},"isPaused()":{"details":"When paused, all critical functions (asset movements, settlements) are halted for emergency protection. This affects the entire protocol's money flow coordination, preventing new deposits, redemptions, and yield distributions until unpaused.","returns":{"_0":"True if the contract is paused and operations are halted"}},"kAssetPush(address,uint256,bytes32)":{"details":"This function is called by kMinter when institutional users deposit underlying assets. The process involves: (1) receiving assets already transferred from kMinter, (2) forwarding them to the appropriate DN vault for the asset type, (3) updating virtual balance tracking for accurate accounting. This enables immediate kToken minting (1:1 with deposits) while assets begin generating yield in the vault system. The assets enter the current batch for eventual settlement and yield distribution back to kToken holders.","params":{"_asset":"The underlying asset address being deposited (must be registered in protocol)","amount":"The quantity of assets being pushed to the vault for yield generation","batchId":"The current batch identifier from the DN vault for tracking and settlement"}},"kAssetRequestPull(address,uint256,bytes32)":{"details":"This function initiates the first phase of the institutional redemption process. The workflow involves: (1) registering the redemption request with the vault, (2) creating a kBatchReceiver minimal proxy to hold assets for distribution, (3) updating virtual balance accounting, (4) preparing for batch settlement. The actual asset transfer occurs later during batch settlement when the vault processes all pending requests together. This two-phase approach optimizes gas costs and ensures fair settlement across all institutional redemption requests in the batch.","params":{"_asset":"The underlying asset address being redeemed","amount":"The quantity of assets requested for redemption","batchId":"The batch identifier for coordinating this redemption with other requests"}},"kAssetTransfer(address,address,address,uint256,bytes32)":{"details":"This function enables dynamic rebalancing of assets across the vault network to optimize yields and manage capacity. The transfer is virtual in nature - actual underlying assets may remain in the same physical vault while accounting balances are updated. This mechanism allows for: (1) moving assets from lower-yield to higher-yield opportunities, (2) rebalancing vault capacity during high demand periods, (3) optimizing capital efficiency across the protocol. The batch system ensures all transfers are processed fairly during settlement periods.","params":{"_asset":"The underlying asset address being transferred between vaults","amount":"The quantity of assets to transfer for rebalancing","batchId":"The batch identifier for coordinating this transfer with settlement","sourceVault":"The kStakingVault address transferring assets (will lose virtual balance)","targetVault":"The kStakingVault address receiving assets (will gain virtual balance)"}},"kSharesRequestPull(address,uint256,bytes32)":{"details":"This function handles the share-based redemption process for retail users withdrawing from kStakingVaults. The process involves: (1) calculating share amounts to redeem based on user requests, (2) preparing for conversion back to kTokens at settlement time, (3) coordinating with the batch settlement system for fair pricing. Unlike institutional redemptions through kMinter, this uses share-based accounting to handle smaller, more frequent retail operations efficiently through the vault's batch processing system.","params":{"amount":"The quantity of shares being requested for pull from users","batchId":"The batch identifier for coordinating share redemptions with settlement","sourceVault":"The kStakingVault address requesting share pull for redemptions"}},"kSharesRequestPush(address,uint256,bytes32)":{"details":"This function is part of the share-based accounting system for retail users in kStakingVaults. When users stake kTokens, the vault requests shares to be pushed to track their ownership. The process coordinates: (1) conversion of kTokens to vault shares at current share price, (2) updating user balances in the vault system, (3) preparing for batch settlement. Share requests are batched to optimize gas costs and ensure fair pricing across all users in the same settlement period.","params":{"amount":"The quantity of shares being requested for push to users","batchId":"The batch identifier for coordinating share operations with settlement","sourceVault":"The kStakingVault address requesting share push operations"}},"proposeSettleBatch(address,address,bytes32,uint256,uint64,uint64)":{"details":"This is the core function that initiates yield distribution in the KAM protocol. The settlement process involves: (1) calculating final yields after a batch period, (2) determining net new deposits/ redemptions, (3) creating a proposal with cooldown period for security verification, (4) preparing for kToken supply adjustment to maintain 1:1 backing. Positive yields result in kToken minting (distributing gains to all holders), while losses result in kToken burning (socializing losses). The cooldown period allows guardians to verify calculations before execution, ensuring protocol integrity.","params":{"asset":"The underlying asset address being settled (USDC, WBTC, etc.)","batchId":"The batch identifier for this settlement period","lastFeesChargedManagement":"Last management fees charged","lastFeesChargedPerformance":"Last performance fees charged","totalAssets":"Total asset value in the vault after yield generation/loss","vault":"The DN vault address where yield was generated"}},"setMaxAllowedDelta(uint256)":{"details":"This function allows protocol governance to adjust the maximum acceptable yield deviation before settlement proposals are rejected. The yield tolerance acts as a safety mechanism to prevent settlement proposals with extremely high or low yield values that could indicate calculation errors, data corruption, or potential manipulation attempts. Setting an appropriate tolerance balances protocol safety with operational flexibility, allowing normal yield fluctuations while blocking suspicious proposals. Only admin roles can modify this parameter as it affects protocol safety.","params":{"tolerance_":"The new yield tolerance in basis points (e.g., 1000 = 10%)"}},"setSettlementCooldown(uint256)":{"details":"The cooldown period provides critical security by requiring a delay between proposal creation and execution. This allows: (1) protocol guardians to verify yield calculations, (2) detection of potential errors or malicious proposals, (3) emergency intervention if needed. The cooldown should balance security (longer is safer) with operational efficiency (shorter enables faster yield distribution). Only admin roles can modify this parameter as it affects protocol safety.","params":{"cooldown":"The new cooldown period in seconds before settlement proposals can be executed"}},"virtualBalance(address,address)":{"details":"This function aggregates asset balances across all adapters connected to a vault to determine the total virtual balance available for operations. Essential for coordination between physical asset locations and protocol accounting. Used for settlement calculations and ensuring sufficient assets are available for redemptions and transfers within the money flow system.","params":{"asset":"The underlying asset of the vault","vault":"The vault address to calculate virtual balance for"},"returns":{"_0":"balance The total virtual asset balance across all vault adapters"}}},"version":1},"userdoc":{"kind":"user","methods":{"canExecuteProposal(bytes32)":{"notice":"Checks if a settlement proposal is ready for execution with detailed status"},"cancelProposal(bytes32)":{"notice":"Cancels a settlement proposal before execution if errors are detected"},"contractName()":{"notice":"Returns the human-readable name identifier for this contract type"},"contractVersion()":{"notice":"Returns the version identifier for this contract implementation"},"executeSettleBatch(bytes32)":{"notice":"Executes a settlement proposal after the security cooldown period has elapsed"},"getBatchIdBalances(address,bytes32)":{"notice":"Retrieves the virtual balance accounting for a specific batch in a vault"},"getDNVaultByAsset(address)":{"notice":"Gets the DN vault address responsible for yield generation for a specific asset"},"getPendingProposals(address)":{"notice":"Retrieves all pending settlement proposals for a specific vault"},"getRequestedShares(address,bytes32)":{"notice":"Retrieves the total shares requested for redemption in a specific vault batch"},"getSettlementCooldown()":{"notice":"Gets the current security cooldown period for settlement proposals"},"getSettlementProposal(bytes32)":{"notice":"Retrieves complete details of a specific settlement proposal"},"getYieldTolerance()":{"notice":"Gets the current yield tolerance threshold for settlement proposals"},"isPaused()":{"notice":"Checks if the kAssetRouter contract is currently paused"},"kAssetPush(address,uint256,bytes32)":{"notice":"Pushes assets from kMinter institutional deposits to the designated DN vault for yield generation"},"kAssetRequestPull(address,uint256,bytes32)":{"notice":"Requests asset withdrawal from vault to fulfill institutional redemption through kMinter"},"kAssetTransfer(address,address,address,uint256,bytes32)":{"notice":"Transfers assets between kStakingVaults for optimal capital allocation and yield optimization"},"kSharesRequestPull(address,uint256,bytes32)":{"notice":"Requests shares to be pulled for kStakingVault redemption operations"},"kSharesRequestPush(address,uint256,bytes32)":{"notice":"Requests shares to be pushed for kStakingVault staking operations and batch processing"},"proposeSettleBatch(address,address,bytes32,uint256,uint64,uint64)":{"notice":"Proposes a batch settlement for a vault with yield distribution through kToken minting/burning"},"setMaxAllowedDelta(uint256)":{"notice":"Updates the yield tolerance threshold for settlement proposals"},"setSettlementCooldown(uint256)":{"notice":"Sets the security cooldown period for settlement proposals"},"virtualBalance(address,address)":{"notice":"Retrieves the virtual balance of assets for a vault across all its adapters"}},"version":1}},"settings":{"remappings":["forge-std-1.9.7/=dependencies/forge-std-1.9.7/src/","forge-std/=dependencies/forge-std-1.9.7/src/","kam/src/=src/","kam/test/=test/","openzeppelin/=src/vendor/openzeppelin/","solady/=src/vendor/solady/","uniswap/=src/vendor/uniswap/"],"optimizer":{"enabled":true,"runs":10000},"metadata":{"bytecodeHash":"ipfs"},"compilationTarget":{"src/interfaces/IkAssetRouter.sol":"IkAssetRouter"},"evmVersion":"prague","libraries":{},"viaIR":true},"sources":{"src/interfaces/IVersioned.sol":{"keccak256":"0x23e7a218ecbf42e18656d069ee25302c74c5027d1dcfa4e1b9c54501d76a72f5","urls":["bzz-raw://2e2643eaf8cc8f8bc04dd90c6cbf5c1429de314dc85e93c254b1deae782af6eb","dweb:/ipfs/Qmb4s6G5PNFLy6iANEqHvanKZ3Tu1ahfW5V9ppWCxKTiDD"],"license":"MIT"},"src/interfaces/IkAssetRouter.sol":{"keccak256":"0x3e8fa8095c97474b5099ae23b12ff76e166bc9d243b493dc3e170ea24d8ec16f","urls":["bzz-raw://2dfd7df88cb6233d906a020a91d291a5770e9d4e331ddb3a7e12778a9d2a2bb6","dweb:/ipfs/QmPqmLmPj6BycLExz4tNf1YcGzyNYpYK8PGGm1pugzSZW7"],"license":"MIT"}},"version":1},"storageLayout":{"storage":[],"types":{}},"ast":{"absolutePath":"src/interfaces/IkAssetRouter.sol","id":51573,"exportedSymbols":{"ISettleBatch":[51162],"IVersioned":[51152],"IkAssetRouter":[51572]},"nodeType":"SourceUnit","src":"32:32280:51","nodes":[{"id":51154,"nodeType":"PragmaDirective","src":"32:23:51","nodes":[],"literals":["solidity","^","0.8",".4"]},{"id":51156,"nodeType":"ImportDirective","src":"57:63:51","nodes":[],"absolutePath":"src/interfaces/IVersioned.sol","file":"kam/src/interfaces/IVersioned.sol","nameLocation":"-1:-1:-1","scope":51573,"sourceUnit":51153,"symbolAliases":[{"foreign":{"id":51155,"name":"IVersioned","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":51152,"src":"66:10:51","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"id":51162,"nodeType":"ContractDefinition","src":"122:79:51","nodes":[{"id":51161,"nodeType":"FunctionDefinition","src":"151:48:51","nodes":[],"functionSelector":"eeb8f2b5","implemented":false,"kind":"function","modifiers":[],"name":"settleBatch","nameLocation":"160:11:51","parameters":{"id":51159,"nodeType":"ParameterList","parameters":[{"constant":false,"id":51158,"mutability":"mutable","name":"_batchId","nameLocation":"180:8:51","nodeType":"VariableDeclaration","scope":51161,"src":"172:16:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":51157,"name":"bytes32","nodeType":"ElementaryTypeName","src":"172:7:51","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"internal"}],"src":"171:18:51"},"returnParameters":{"id":51160,"nodeType":"ParameterList","parameters":[],"src":"198:0:51"},"scope":51162,"stateMutability":"nonpayable","virtual":false,"visibility":"external"}],"abstract":false,"baseContracts":[],"canonicalName":"ISettleBatch","contractDependencies":[],"contractKind":"interface","fullyImplemented":false,"linearizedBaseContracts":[51162],"name":"ISettleBatch","nameLocation":"132:12:51","scope":51573,"usedErrors":[],"usedEvents":[]},{"id":51572,"nodeType":"ContractDefinition","src":"1237:31074:51","nodes":[{"id":51173,"nodeType":"StructDefinition","src":"1852:260:51","nodes":[],"canonicalName":"IkAssetRouter.Balances","documentation":{"id":51166,"nodeType":"StructuredDocumentation","src":"1463:384:51","text":"@notice Tracks requested and deposited asset amounts for batch processing coordination\n @dev Used by kAssetRouter to maintain virtual balance accounting across vaults and coordinate\n asset flows between kMinter redemption requests and vault settlements. Enables efficient\n batch processing by tracking pending operations before physical asset movement occurs."},"members":[{"constant":false,"id":51169,"mutability":"mutable","name":"requested","nameLocation":"1978:9:51","nodeType":"VariableDeclaration","scope":51173,"src":"1970:17:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"},"typeName":{"id":51168,"name":"uint128","nodeType":"ElementaryTypeName","src":"1970:7:51","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"visibility":"internal"},{"constant":false,"id":51172,"mutability":"mutable","name":"deposited","nameLocation":"2096:9:51","nodeType":"VariableDeclaration","scope":51173,"src":"2088:17:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"},"typeName":{"id":51171,"name":"uint128","nodeType":"ElementaryTypeName","src":"2088:7:51","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"visibility":"internal"}],"name":"Balances","nameLocation":"1859:8:51","scope":51572,"visibility":"public"},{"id":51202,"nodeType":"StructDefinition","src":"2541:940:51","nodes":[],"canonicalName":"IkAssetRouter.VaultSettlementProposal","documentation":{"id":51174,"nodeType":"StructuredDocumentation","src":"2118:418:51","text":"@notice Contains all parameters for a batch settlement proposal in the yield distribution system\n @dev Settlement proposals implement a cooldown mechanism for security, allowing guardians to verify\n yield calculations before execution. Once executed, the proposal triggers kToken minting/burning to\n distribute yield or account for losses, maintaining the 1:1 backing ratio across all kTokens."},"members":[{"constant":false,"id":51177,"mutability":"mutable","name":"asset","nameLocation":"2669:5:51","nodeType":"VariableDeclaration","scope":51202,"src":"2661:13:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":51176,"name":"address","nodeType":"ElementaryTypeName","src":"2661:7:51","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":51180,"mutability":"mutable","name":"vault","nameLocation":"2756:5:51","nodeType":"VariableDeclaration","scope":51202,"src":"2748:13:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":51179,"name":"address","nodeType":"ElementaryTypeName","src":"2748:7:51","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":51183,"mutability":"mutable","name":"batchId","nameLocation":"2844:7:51","nodeType":"VariableDeclaration","scope":51202,"src":"2836:15:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":51182,"name":"bytes32","nodeType":"ElementaryTypeName","src":"2836:7:51","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"internal"},{"constant":false,"id":51186,"mutability":"mutable","name":"totalAssets","nameLocation":"2940:11:51","nodeType":"VariableDeclaration","scope":51202,"src":"2932:19:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":51185,"name":"uint256","nodeType":"ElementaryTypeName","src":"2932:7:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":51189,"mutability":"mutable","name":"netted","nameLocation":"3038:6:51","nodeType":"VariableDeclaration","scope":51202,"src":"3031:13:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"},"typeName":{"id":51188,"name":"int256","nodeType":"ElementaryTypeName","src":"3031:6:51","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"visibility":"internal"},{"constant":false,"id":51192,"mutability":"mutable","name":"yield","nameLocation":"3147:5:51","nodeType":"VariableDeclaration","scope":51202,"src":"3140:12:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"},"typeName":{"id":51191,"name":"int256","nodeType":"ElementaryTypeName","src":"3140:6:51","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"visibility":"internal"},{"constant":false,"id":51195,"mutability":"mutable","name":"executeAfter","nameLocation":"3260:12:51","nodeType":"VariableDeclaration","scope":51202,"src":"3253:19:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"},"typeName":{"id":51194,"name":"uint64","nodeType":"ElementaryTypeName","src":"3253:6:51","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"}},"visibility":"internal"},{"constant":false,"id":51198,"mutability":"mutable","name":"lastFeesChargedManagement","nameLocation":"3347:25:51","nodeType":"VariableDeclaration","scope":51202,"src":"3340:32:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"},"typeName":{"id":51197,"name":"uint64","nodeType":"ElementaryTypeName","src":"3340:6:51","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"}},"visibility":"internal"},{"constant":false,"id":51201,"mutability":"mutable","name":"lastFeesChargedPerformance","nameLocation":"3448:26:51","nodeType":"VariableDeclaration","scope":51202,"src":"3441:33:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"},"typeName":{"id":51200,"name":"uint64","nodeType":"ElementaryTypeName","src":"3441:6:51","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"}},"visibility":"internal"}],"name":"VaultSettlementProposal","nameLocation":"2548:23:51","scope":51572,"visibility":"public"},{"id":51207,"nodeType":"EventDefinition","src":"3861:52:51","nodes":[],"anonymous":false,"documentation":{"id":51203,"nodeType":"StructuredDocumentation","src":"3665:191:51","text":"@notice Emitted when the kAssetRouter contract is initialized with registry configuration\n @param registry The address of the kRegistry contract that manages protocol configuration"},"eventSelector":"b8bb5a08c752924168166e254455ca6708ef2ac4cfd39bba39eb5a5b89f0cbd6","name":"ContractInitialized","nameLocation":"3867:19:51","parameters":{"id":51206,"nodeType":"ParameterList","parameters":[{"constant":false,"id":51205,"indexed":true,"mutability":"mutable","name":"registry","nameLocation":"3903:8:51","nodeType":"VariableDeclaration","scope":51207,"src":"3887:24:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":51204,"name":"address","nodeType":"ElementaryTypeName","src":"3887:7:51","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"3886:26:51"}},{"id":51214,"nodeType":"EventDefinition","src":"4347:57:51","nodes":[],"anonymous":false,"documentation":{"id":51208,"nodeType":"StructuredDocumentation","src":"3919:423:51","text":"@notice Emitted when assets are pushed from kMinter to a DN vault for yield generation\n @dev This occurs when institutional users deposit assets through kMinter, and the router\n forwards these assets to the appropriate DN vault for yield farming strategies\n @param from The address initiating the asset push (typically kMinter)\n @param amount The quantity of assets being pushed to the vault"},"eventSelector":"4c56d82314c7ba16ae8b6c8f189249e688d64c23ce4ad32dce3533e7e14b550a","name":"AssetsPushed","nameLocation":"4353:12:51","parameters":{"id":51213,"nodeType":"ParameterList","parameters":[{"constant":false,"id":51210,"indexed":true,"mutability":"mutable","name":"from","nameLocation":"4382:4:51","nodeType":"VariableDeclaration","scope":51214,"src":"4366:20:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":51209,"name":"address","nodeType":"ElementaryTypeName","src":"4366:7:51","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":51212,"indexed":false,"mutability":"mutable","name":"amount","nameLocation":"4396:6:51","nodeType":"VariableDeclaration","scope":51214,"src":"4388:14:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":51211,"name":"uint256","nodeType":"ElementaryTypeName","src":"4388:7:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"4365:38:51"}},{"id":51223,"nodeType":"EventDefinition","src":"4938:88:51","nodes":[],"anonymous":false,"documentation":{"id":51215,"nodeType":"StructuredDocumentation","src":"4410:523:51","text":"@notice Emitted when assets are requested for pull from a vault to fulfill kMinter redemptions\n @dev Part of the two-phase redemption process - assets are first requested, then later pulled\n after batch settlement. The batchReceiver is deployed to hold assets for distribution.\n @param vault The vault address from which assets are being requested\n @param asset The underlying asset address being requested for redemption\n @param amount The quantity of assets requested for redemption"},"eventSelector":"d95447b6ffc5599057ab190458c076456cdd9029001c51c670a5734cef8ebf76","name":"AssetsRequestPulled","nameLocation":"4944:19:51","parameters":{"id":51222,"nodeType":"ParameterList","parameters":[{"constant":false,"id":51217,"indexed":true,"mutability":"mutable","name":"vault","nameLocation":"4980:5:51","nodeType":"VariableDeclaration","scope":51223,"src":"4964:21:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":51216,"name":"address","nodeType":"ElementaryTypeName","src":"4964:7:51","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":51219,"indexed":true,"mutability":"mutable","name":"asset","nameLocation":"5003:5:51","nodeType":"VariableDeclaration","scope":51223,"src":"4987:21:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":51218,"name":"address","nodeType":"ElementaryTypeName","src":"4987:7:51","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":51221,"indexed":false,"mutability":"mutable","name":"amount","nameLocation":"5018:6:51","nodeType":"VariableDeclaration","scope":51223,"src":"5010:14:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":51220,"name":"uint256","nodeType":"ElementaryTypeName","src":"5010:7:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"4963:62:51"}},{"id":51234,"nodeType":"EventDefinition","src":"5630:134:51","nodes":[],"anonymous":false,"documentation":{"id":51224,"nodeType":"StructuredDocumentation","src":"5032:593:51","text":"@notice Emitted when assets are transferred between kStakingVaults for optimal allocation\n @dev This is a virtual transfer for accounting purposes - actual assets may remain in the same\n physical location while vault balances are updated to reflect the new allocation\n @param sourceVault The vault transferring assets (losing virtual balance)\n @param targetVault The vault receiving assets (gaining virtual balance)\n @param asset The underlying asset address being transferred\n @param amount The quantity of assets being transferred between vaults"},"eventSelector":"710dc442f97591ada42c89862a834ebac6dd641869d3bfa3707b37661397c93f","name":"AssetsTransfered","nameLocation":"5636:16:51","parameters":{"id":51233,"nodeType":"ParameterList","parameters":[{"constant":false,"id":51226,"indexed":true,"mutability":"mutable","name":"sourceVault","nameLocation":"5678:11:51","nodeType":"VariableDeclaration","scope":51234,"src":"5662:27:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":51225,"name":"address","nodeType":"ElementaryTypeName","src":"5662:7:51","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":51228,"indexed":true,"mutability":"mutable","name":"targetVault","nameLocation":"5707:11:51","nodeType":"VariableDeclaration","scope":51234,"src":"5691:27:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":51227,"name":"address","nodeType":"ElementaryTypeName","src":"5691:7:51","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":51230,"indexed":true,"mutability":"mutable","name":"asset","nameLocation":"5736:5:51","nodeType":"VariableDeclaration","scope":51234,"src":"5720:21:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":51229,"name":"address","nodeType":"ElementaryTypeName","src":"5720:7:51","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":51232,"indexed":false,"mutability":"mutable","name":"amount","nameLocation":"5751:6:51","nodeType":"VariableDeclaration","scope":51234,"src":"5743:14:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":51231,"name":"uint256","nodeType":"ElementaryTypeName","src":"5743:7:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"5652:111:51"}},{"id":51243,"nodeType":"EventDefinition","src":"6148:92:51","nodes":[],"anonymous":false,"documentation":{"id":51235,"nodeType":"StructuredDocumentation","src":"5769:374:51","text":"@notice Emitted when shares are requested for push operations in kStakingVault flows\n @dev Part of the share-based accounting system for retail users in kStakingVaults\n @param vault The kStakingVault requesting the share push operation\n @param batchId The batch identifier for this operation\n @param amount The quantity of shares being pushed"},"eventSelector":"1230d10fa54cf4fa480deb2fa6a8b12962f8e88b2b57230c541d55851011e6a5","name":"SharesRequestedPushed","nameLocation":"6154:21:51","parameters":{"id":51242,"nodeType":"ParameterList","parameters":[{"constant":false,"id":51237,"indexed":true,"mutability":"mutable","name":"vault","nameLocation":"6192:5:51","nodeType":"VariableDeclaration","scope":51243,"src":"6176:21:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":51236,"name":"address","nodeType":"ElementaryTypeName","src":"6176:7:51","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":51239,"indexed":true,"mutability":"mutable","name":"batchId","nameLocation":"6215:7:51","nodeType":"VariableDeclaration","scope":51243,"src":"6199:23:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":51238,"name":"bytes32","nodeType":"ElementaryTypeName","src":"6199:7:51","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"internal"},{"constant":false,"id":51241,"indexed":false,"mutability":"mutable","name":"amount","nameLocation":"6232:6:51","nodeType":"VariableDeclaration","scope":51243,"src":"6224:14:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":51240,"name":"uint256","nodeType":"ElementaryTypeName","src":"6224:7:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"6175:64:51"}},{"id":51252,"nodeType":"EventDefinition","src":"6654:92:51","nodes":[],"anonymous":false,"documentation":{"id":51244,"nodeType":"StructuredDocumentation","src":"6246:403:51","text":"@notice Emitted when shares are requested for pull operations in kStakingVault redemptions\n @dev Coordinates share-based redemptions for retail users through the batch system\n @param vault The kStakingVault requesting the share pull operation\n @param batchId The batch identifier for this redemption batch\n @param amount The quantity of shares being pulled for redemption"},"eventSelector":"5cd8a9107e6e9586b797145cd0c5d437a526622477140ec7c4db00304c015a3d","name":"SharesRequestedPulled","nameLocation":"6660:21:51","parameters":{"id":51251,"nodeType":"ParameterList","parameters":[{"constant":false,"id":51246,"indexed":true,"mutability":"mutable","name":"vault","nameLocation":"6698:5:51","nodeType":"VariableDeclaration","scope":51252,"src":"6682:21:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":51245,"name":"address","nodeType":"ElementaryTypeName","src":"6682:7:51","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":51248,"indexed":true,"mutability":"mutable","name":"batchId","nameLocation":"6721:7:51","nodeType":"VariableDeclaration","scope":51252,"src":"6705:23:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":51247,"name":"bytes32","nodeType":"ElementaryTypeName","src":"6705:7:51","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"internal"},{"constant":false,"id":51250,"indexed":false,"mutability":"mutable","name":"amount","nameLocation":"6738:6:51","nodeType":"VariableDeclaration","scope":51252,"src":"6730:14:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":51249,"name":"uint256","nodeType":"ElementaryTypeName","src":"6730:7:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"6681:64:51"}},{"id":51267,"nodeType":"EventDefinition","src":"7364:182:51","nodes":[],"anonymous":false,"documentation":{"id":51253,"nodeType":"StructuredDocumentation","src":"6752:607:51","text":"@notice Emitted when shares are settled across multiple vaults with calculated share prices\n @dev Marks the completion of a cross-vault settlement with final share price determination\n @param vaults Array of vault addresses participating in the settlement\n @param batchId The batch identifier for this settlement period\n @param totalRequestedShares Total shares requested across all vaults in this settlement\n @param totalAssets Array of total assets for each vault after settlement\n @param sharePrice The final calculated share price for this settlement period"},"eventSelector":"09763afdd810c3d36da474cecb7a2ea7d44346ba3fd4f4c28fd1ee64216f94ba","name":"SharesSettled","nameLocation":"7370:13:51","parameters":{"id":51266,"nodeType":"ParameterList","parameters":[{"constant":false,"id":51256,"indexed":false,"mutability":"mutable","name":"vaults","nameLocation":"7403:6:51","nodeType":"VariableDeclaration","scope":51267,"src":"7393:16:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_memory_ptr","typeString":"address[]"},"typeName":{"baseType":{"id":51254,"name":"address","nodeType":"ElementaryTypeName","src":"7393:7:51","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":51255,"nodeType":"ArrayTypeName","src":"7393:9:51","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_storage_ptr","typeString":"address[]"}},"visibility":"internal"},{"constant":false,"id":51258,"indexed":true,"mutability":"mutable","name":"batchId","nameLocation":"7435:7:51","nodeType":"VariableDeclaration","scope":51267,"src":"7419:23:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":51257,"name":"bytes32","nodeType":"ElementaryTypeName","src":"7419:7:51","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"internal"},{"constant":false,"id":51260,"indexed":false,"mutability":"mutable","name":"totalRequestedShares","nameLocation":"7460:20:51","nodeType":"VariableDeclaration","scope":51267,"src":"7452:28:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":51259,"name":"uint256","nodeType":"ElementaryTypeName","src":"7452:7:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":51263,"indexed":false,"mutability":"mutable","name":"totalAssets","nameLocation":"7500:11:51","nodeType":"VariableDeclaration","scope":51267,"src":"7490:21:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_memory_ptr","typeString":"uint256[]"},"typeName":{"baseType":{"id":51261,"name":"uint256","nodeType":"ElementaryTypeName","src":"7490:7:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":51262,"nodeType":"ArrayTypeName","src":"7490:9:51","typeDescriptions":{"typeIdentifier":"t_array$_t_uint256_$dyn_storage_ptr","typeString":"uint256[]"}},"visibility":"internal"},{"constant":false,"id":51265,"indexed":false,"mutability":"mutable","name":"sharePrice","nameLocation":"7529:10:51","nodeType":"VariableDeclaration","scope":51267,"src":"7521:18:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":51264,"name":"uint256","nodeType":"ElementaryTypeName","src":"7521:7:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"7383:162:51"}},{"id":51276,"nodeType":"EventDefinition","src":"7946:88:51","nodes":[],"anonymous":false,"documentation":{"id":51268,"nodeType":"StructuredDocumentation","src":"7552:389:51","text":"@notice Emitted when a vault batch is settled with final asset accounting\n @dev Indicates completion of yield distribution and final asset allocation for a batch\n @param vault The vault address that completed batch settlement\n @param batchId The batch identifier that was settled\n @param totalAssets The final total asset value in the vault after settlement"},"eventSelector":"edb477cd39fe3c5ba0562ca4f66170f778325877f6895520d694c84f71ddf6a9","name":"BatchSettled","nameLocation":"7952:12:51","parameters":{"id":51275,"nodeType":"ParameterList","parameters":[{"constant":false,"id":51270,"indexed":true,"mutability":"mutable","name":"vault","nameLocation":"7981:5:51","nodeType":"VariableDeclaration","scope":51276,"src":"7965:21:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":51269,"name":"address","nodeType":"ElementaryTypeName","src":"7965:7:51","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":51272,"indexed":true,"mutability":"mutable","name":"batchId","nameLocation":"8004:7:51","nodeType":"VariableDeclaration","scope":51276,"src":"7988:23:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":51271,"name":"bytes32","nodeType":"ElementaryTypeName","src":"7988:7:51","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"internal"},{"constant":false,"id":51274,"indexed":false,"mutability":"mutable","name":"totalAssets","nameLocation":"8021:11:51","nodeType":"VariableDeclaration","scope":51276,"src":"8013:19:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":51273,"name":"uint256","nodeType":"ElementaryTypeName","src":"8013:7:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"7964:69:51"}},{"id":51283,"nodeType":"EventDefinition","src":"8479:71:51","nodes":[],"anonymous":false,"documentation":{"id":51277,"nodeType":"StructuredDocumentation","src":"8040:434:51","text":"@notice Emitted when peg protection mechanism is activated due to vault shortfall\n @dev Triggered when a vault cannot fulfill redemption requests, requiring asset transfers\n from other vaults to maintain the protocol's 1:1 backing guarantee\n @param vault The vault experiencing shortfall that triggered peg protection\n @param shortfall The amount of assets needed to fulfill pending redemption requests"},"eventSelector":"d87f95b4485924b817cd6080b0a72df710bad185963fbfd6e55ac84e8443d4d9","name":"PegProtectionActivated","nameLocation":"8485:22:51","parameters":{"id":51282,"nodeType":"ParameterList","parameters":[{"constant":false,"id":51279,"indexed":true,"mutability":"mutable","name":"vault","nameLocation":"8524:5:51","nodeType":"VariableDeclaration","scope":51283,"src":"8508:21:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":51278,"name":"address","nodeType":"ElementaryTypeName","src":"8508:7:51","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":51281,"indexed":false,"mutability":"mutable","name":"shortfall","nameLocation":"8539:9:51","nodeType":"VariableDeclaration","scope":51283,"src":"8531:17:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":51280,"name":"uint256","nodeType":"ElementaryTypeName","src":"8531:7:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"8507:42:51"}},{"id":51292,"nodeType":"EventDefinition","src":"8994:102:51","nodes":[],"anonymous":false,"documentation":{"id":51284,"nodeType":"StructuredDocumentation","src":"8556:433:51","text":"@notice Emitted when peg protection transfers assets between vaults to cover shortfalls\n @dev Maintains protocol solvency by redistributing assets from surplus to deficit vaults\n @param sourceVault The vault providing assets to cover the shortfall\n @param targetVault The vault receiving assets to fulfill its redemption obligations\n @param amount The quantity of assets transferred for peg protection"},"eventSelector":"6e85d222e635db7b7b58f7165bcc37ec70437b02e180392c7c3acb593ab2ff3c","name":"PegProtectionExecuted","nameLocation":"9000:21:51","parameters":{"id":51291,"nodeType":"ParameterList","parameters":[{"constant":false,"id":51286,"indexed":true,"mutability":"mutable","name":"sourceVault","nameLocation":"9038:11:51","nodeType":"VariableDeclaration","scope":51292,"src":"9022:27:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":51285,"name":"address","nodeType":"ElementaryTypeName","src":"9022:7:51","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":51288,"indexed":true,"mutability":"mutable","name":"targetVault","nameLocation":"9067:11:51","nodeType":"VariableDeclaration","scope":51292,"src":"9051:27:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":51287,"name":"address","nodeType":"ElementaryTypeName","src":"9051:7:51","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":51290,"indexed":false,"mutability":"mutable","name":"amount","nameLocation":"9088:6:51","nodeType":"VariableDeclaration","scope":51292,"src":"9080:14:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":51289,"name":"uint256","nodeType":"ElementaryTypeName","src":"9080:7:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"9021:74:51"}},{"id":51299,"nodeType":"EventDefinition","src":"9534:60:51","nodes":[],"anonymous":false,"documentation":{"id":51293,"nodeType":"StructuredDocumentation","src":"9102:427:51","text":"@notice Emitted when yield is distributed through kToken minting/burning operations\n @dev This is the core mechanism for maintaining 1:1 backing while distributing yield.\n Positive yield increases kToken supply, negative yield (losses) decreases supply.\n @param vault The vault that generated the yield being distributed\n @param yield The amount of yield (positive or negative) being distributed"},"eventSelector":"abe7bba351333865347fffa4fee91d7cbacf68d57b5779282cd009ae71deaf65","name":"YieldDistributed","nameLocation":"9540:16:51","parameters":{"id":51298,"nodeType":"ParameterList","parameters":[{"constant":false,"id":51295,"indexed":true,"mutability":"mutable","name":"vault","nameLocation":"9573:5:51","nodeType":"VariableDeclaration","scope":51299,"src":"9557:21:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":51294,"name":"address","nodeType":"ElementaryTypeName","src":"9557:7:51","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":51297,"indexed":false,"mutability":"mutable","name":"yield","nameLocation":"9587:5:51","nodeType":"VariableDeclaration","scope":51299,"src":"9580:12:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"},"typeName":{"id":51296,"name":"int256","nodeType":"ElementaryTypeName","src":"9580:6:51","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"visibility":"internal"}],"src":"9556:37:51"}},{"id":51308,"nodeType":"EventDefinition","src":"9978:78:51","nodes":[],"anonymous":false,"documentation":{"id":51300,"nodeType":"StructuredDocumentation","src":"9600:373:51","text":"@notice Emitted when assets are deposited into a vault through various protocol mechanisms\n @dev Tracks all asset deposits whether from kMinter institutional flows or other sources\n @param vault The vault address receiving the deposit\n @param asset The underlying asset address being deposited\n @param amount The quantity of assets deposited"},"eventSelector":"8752a472e571a816aea92eec8dae9baf628e840f4929fbcc2d155e6233ff68a7","name":"Deposited","nameLocation":"9984:9:51","parameters":{"id":51307,"nodeType":"ParameterList","parameters":[{"constant":false,"id":51302,"indexed":true,"mutability":"mutable","name":"vault","nameLocation":"10010:5:51","nodeType":"VariableDeclaration","scope":51308,"src":"9994:21:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":51301,"name":"address","nodeType":"ElementaryTypeName","src":"9994:7:51","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":51304,"indexed":true,"mutability":"mutable","name":"asset","nameLocation":"10033:5:51","nodeType":"VariableDeclaration","scope":51308,"src":"10017:21:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":51303,"name":"address","nodeType":"ElementaryTypeName","src":"10017:7:51","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":51306,"indexed":false,"mutability":"mutable","name":"amount","nameLocation":"10048:6:51","nodeType":"VariableDeclaration","scope":51308,"src":"10040:14:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":51305,"name":"uint256","nodeType":"ElementaryTypeName","src":"10040:7:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"9993:62:51"}},{"id":51329,"nodeType":"EventDefinition","src":"10890:322:51","nodes":[],"anonymous":false,"documentation":{"id":51309,"nodeType":"StructuredDocumentation","src":"10062:823:51","text":"@notice Emitted when a new settlement proposal is created with cooldown period\n @dev Begins the settlement process with a security cooldown to allow verification\n @param proposalId The unique identifier for this settlement proposal\n @param vault The vault address for which settlement is proposed\n @param batchId The batch identifier being settled\n @param totalAssets Total asset value in the vault after yield generation\n @param netted Net amount of new deposits/redemptions in this batch\n @param yield Absolute yield amount generated in this batch\n @param executeAfter Timestamp after which the proposal can be executed\n @param lastFeesChargedManagement Last management fees charged\n @param lastFeesChargedPerformance Last performance fees charged"},"eventSelector":"bf9fe4a18fb0d2f9902d99e958ec41370c41b4e41657141a31b44e206bf7ec35","name":"SettlementProposed","nameLocation":"10896:18:51","parameters":{"id":51328,"nodeType":"ParameterList","parameters":[{"constant":false,"id":51311,"indexed":true,"mutability":"mutable","name":"proposalId","nameLocation":"10940:10:51","nodeType":"VariableDeclaration","scope":51329,"src":"10924:26:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":51310,"name":"bytes32","nodeType":"ElementaryTypeName","src":"10924:7:51","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"internal"},{"constant":false,"id":51313,"indexed":true,"mutability":"mutable","name":"vault","nameLocation":"10976:5:51","nodeType":"VariableDeclaration","scope":51329,"src":"10960:21:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":51312,"name":"address","nodeType":"ElementaryTypeName","src":"10960:7:51","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":51315,"indexed":true,"mutability":"mutable","name":"batchId","nameLocation":"11007:7:51","nodeType":"VariableDeclaration","scope":51329,"src":"10991:23:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":51314,"name":"bytes32","nodeType":"ElementaryTypeName","src":"10991:7:51","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"internal"},{"constant":false,"id":51317,"indexed":false,"mutability":"mutable","name":"totalAssets","nameLocation":"11032:11:51","nodeType":"VariableDeclaration","scope":51329,"src":"11024:19:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":51316,"name":"uint256","nodeType":"ElementaryTypeName","src":"11024:7:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":51319,"indexed":false,"mutability":"mutable","name":"netted","nameLocation":"11060:6:51","nodeType":"VariableDeclaration","scope":51329,"src":"11053:13:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"},"typeName":{"id":51318,"name":"int256","nodeType":"ElementaryTypeName","src":"11053:6:51","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"visibility":"internal"},{"constant":false,"id":51321,"indexed":false,"mutability":"mutable","name":"yield","nameLocation":"11083:5:51","nodeType":"VariableDeclaration","scope":51329,"src":"11076:12:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"},"typeName":{"id":51320,"name":"int256","nodeType":"ElementaryTypeName","src":"11076:6:51","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"visibility":"internal"},{"constant":false,"id":51323,"indexed":false,"mutability":"mutable","name":"executeAfter","nameLocation":"11106:12:51","nodeType":"VariableDeclaration","scope":51329,"src":"11098:20:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":51322,"name":"uint256","nodeType":"ElementaryTypeName","src":"11098:7:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":51325,"indexed":false,"mutability":"mutable","name":"lastFeesChargedManagement","nameLocation":"11136:25:51","nodeType":"VariableDeclaration","scope":51329,"src":"11128:33:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":51324,"name":"uint256","nodeType":"ElementaryTypeName","src":"11128:7:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":51327,"indexed":false,"mutability":"mutable","name":"lastFeesChargedPerformance","nameLocation":"11179:26:51","nodeType":"VariableDeclaration","scope":51329,"src":"11171:34:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":51326,"name":"uint256","nodeType":"ElementaryTypeName","src":"11171:7:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"10914:297:51"}},{"id":51340,"nodeType":"EventDefinition","src":"11649:133:51","nodes":[],"anonymous":false,"documentation":{"id":51330,"nodeType":"StructuredDocumentation","src":"11218:426:51","text":"@notice Emitted when a settlement proposal is successfully executed\n @dev Marks completion of the settlement process with yield distribution\n @param proposalId The unique identifier of the executed proposal\n @param vault The vault address that was settled\n @param batchId The batch identifier that was settled\n @param executor The address that executed the settlement (guardian or admin)"},"eventSelector":"fddc214c899c631ac36ab6c64ef4a6072b1b77d7e099e4d8977217917a635e8c","name":"SettlementExecuted","nameLocation":"11655:18:51","parameters":{"id":51339,"nodeType":"ParameterList","parameters":[{"constant":false,"id":51332,"indexed":true,"mutability":"mutable","name":"proposalId","nameLocation":"11699:10:51","nodeType":"VariableDeclaration","scope":51340,"src":"11683:26:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":51331,"name":"bytes32","nodeType":"ElementaryTypeName","src":"11683:7:51","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"internal"},{"constant":false,"id":51334,"indexed":true,"mutability":"mutable","name":"vault","nameLocation":"11727:5:51","nodeType":"VariableDeclaration","scope":51340,"src":"11711:21:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":51333,"name":"address","nodeType":"ElementaryTypeName","src":"11711:7:51","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":51336,"indexed":true,"mutability":"mutable","name":"batchId","nameLocation":"11750:7:51","nodeType":"VariableDeclaration","scope":51340,"src":"11734:23:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":51335,"name":"bytes32","nodeType":"ElementaryTypeName","src":"11734:7:51","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"internal"},{"constant":false,"id":51338,"indexed":false,"mutability":"mutable","name":"executor","nameLocation":"11767:8:51","nodeType":"VariableDeclaration","scope":51340,"src":"11759:16:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":51337,"name":"address","nodeType":"ElementaryTypeName","src":"11759:7:51","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"11673:108:51"}},{"id":51349,"nodeType":"EventDefinition","src":"12179:102:51","nodes":[],"anonymous":false,"documentation":{"id":51341,"nodeType":"StructuredDocumentation","src":"11788:386:51","text":"@notice Emitted when a settlement proposal is cancelled before execution\n @dev Allows guardians to cancel potentially incorrect settlement proposals\n @param proposalId The unique identifier of the cancelled proposal\n @param vault The vault address for which settlement was cancelled\n @param batchId The batch identifier for which settlement was cancelled"},"eventSelector":"ef597a7069e38df320d1d2425e591c723b3d5a3285b98942f803ccff555b67d2","name":"SettlementCancelled","nameLocation":"12185:19:51","parameters":{"id":51348,"nodeType":"ParameterList","parameters":[{"constant":false,"id":51343,"indexed":true,"mutability":"mutable","name":"proposalId","nameLocation":"12221:10:51","nodeType":"VariableDeclaration","scope":51349,"src":"12205:26:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":51342,"name":"bytes32","nodeType":"ElementaryTypeName","src":"12205:7:51","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"internal"},{"constant":false,"id":51345,"indexed":true,"mutability":"mutable","name":"vault","nameLocation":"12249:5:51","nodeType":"VariableDeclaration","scope":51349,"src":"12233:21:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":51344,"name":"address","nodeType":"ElementaryTypeName","src":"12233:7:51","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":51347,"indexed":true,"mutability":"mutable","name":"batchId","nameLocation":"12272:7:51","nodeType":"VariableDeclaration","scope":51349,"src":"12256:23:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":51346,"name":"bytes32","nodeType":"ElementaryTypeName","src":"12256:7:51","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"internal"}],"src":"12204:76:51"}},{"id":51362,"nodeType":"EventDefinition","src":"12806:131:51","nodes":[],"anonymous":false,"documentation":{"id":51350,"nodeType":"StructuredDocumentation","src":"12287:514:51","text":"@notice Emitted when a settlement proposal is updated with new yield calculation data\n @dev Allows for correction of settlement proposals before execution if needed\n @param proposalId The unique identifier of the updated proposal\n @param totalAssets Updated total asset value in the vault\n @param netted Updated net amount of deposits/redemptions\n @param yield Updated yield amount for distribution\n @param profit Updated profit flag (true for gains, false for losses)"},"eventSelector":"757c3545d90de1ffda02803f7bc8b1eb375d8401be01fba7fa2ec3ba12490e59","name":"SettlementUpdated","nameLocation":"12812:17:51","parameters":{"id":51361,"nodeType":"ParameterList","parameters":[{"constant":false,"id":51352,"indexed":true,"mutability":"mutable","name":"proposalId","nameLocation":"12855:10:51","nodeType":"VariableDeclaration","scope":51362,"src":"12839:26:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":51351,"name":"bytes32","nodeType":"ElementaryTypeName","src":"12839:7:51","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"internal"},{"constant":false,"id":51354,"indexed":false,"mutability":"mutable","name":"totalAssets","nameLocation":"12875:11:51","nodeType":"VariableDeclaration","scope":51362,"src":"12867:19:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":51353,"name":"uint256","nodeType":"ElementaryTypeName","src":"12867:7:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":51356,"indexed":false,"mutability":"mutable","name":"netted","nameLocation":"12896:6:51","nodeType":"VariableDeclaration","scope":51362,"src":"12888:14:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":51355,"name":"uint256","nodeType":"ElementaryTypeName","src":"12888:7:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":51358,"indexed":false,"mutability":"mutable","name":"yield","nameLocation":"12912:5:51","nodeType":"VariableDeclaration","scope":51362,"src":"12904:13:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":51357,"name":"uint256","nodeType":"ElementaryTypeName","src":"12904:7:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":51360,"indexed":false,"mutability":"mutable","name":"profit","nameLocation":"12924:6:51","nodeType":"VariableDeclaration","scope":51362,"src":"12919:11:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":51359,"name":"bool","nodeType":"ElementaryTypeName","src":"12919:4:51","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"}],"src":"12829:107:51"}},{"id":51369,"nodeType":"EventDefinition","src":"13271:74:51","nodes":[],"anonymous":false,"documentation":{"id":51363,"nodeType":"StructuredDocumentation","src":"12943:323:51","text":"@notice Emitted when the settlement cooldown period is updated by protocol governance\n @dev Cooldown provides security by allowing time to verify settlement proposals before execution\n @param oldCooldown The previous cooldown period in seconds\n @param newCooldown The new cooldown period in seconds"},"eventSelector":"a8d4d847ed037a895f411bea9d10f2f41ab2426d173647974c6520abe4c3ef27","name":"SettlementCooldownUpdated","nameLocation":"13277:25:51","parameters":{"id":51368,"nodeType":"ParameterList","parameters":[{"constant":false,"id":51365,"indexed":false,"mutability":"mutable","name":"oldCooldown","nameLocation":"13311:11:51","nodeType":"VariableDeclaration","scope":51369,"src":"13303:19:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":51364,"name":"uint256","nodeType":"ElementaryTypeName","src":"13303:7:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":51367,"indexed":false,"mutability":"mutable","name":"newCooldown","nameLocation":"13332:11:51","nodeType":"VariableDeclaration","scope":51369,"src":"13324:19:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":51366,"name":"uint256","nodeType":"ElementaryTypeName","src":"13324:7:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"13302:42:51"}},{"id":51376,"nodeType":"EventDefinition","src":"13787:73:51","nodes":[],"anonymous":false,"documentation":{"id":51370,"nodeType":"StructuredDocumentation","src":"13351:431:51","text":"@notice Emitted when the yield tolerance threshold is updated by protocol governance\n @dev Yield tolerance acts as a safety mechanism to prevent settlement proposals with excessive\n yield deviations that could indicate calculation errors or potential manipulation attempts\n @param oldTolerance The previous yield tolerance in basis points\n @param newTolerance The new yield tolerance in basis points"},"eventSelector":"7d105ab6c5b612e41f22c8da839b22532cfd75478b21f81260fa90ca8d255aa6","name":"MaxAllowedDeltaUpdated","nameLocation":"13793:22:51","parameters":{"id":51375,"nodeType":"ParameterList","parameters":[{"constant":false,"id":51372,"indexed":false,"mutability":"mutable","name":"oldTolerance","nameLocation":"13824:12:51","nodeType":"VariableDeclaration","scope":51376,"src":"13816:20:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":51371,"name":"uint256","nodeType":"ElementaryTypeName","src":"13816:7:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":51374,"indexed":false,"mutability":"mutable","name":"newTolerance","nameLocation":"13846:12:51","nodeType":"VariableDeclaration","scope":51376,"src":"13838:20:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":51373,"name":"uint256","nodeType":"ElementaryTypeName","src":"13838:7:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"13815:44:51"}},{"id":51389,"nodeType":"EventDefinition","src":"14164:134:51","nodes":[],"anonymous":false,"documentation":{"id":51377,"nodeType":"StructuredDocumentation","src":"13866:293:51","text":"@notice Emitted when yield exceeds the tolerance threshold\n @param vault The DN vault address\n @param asset The underlying asset address\n @param batchId The batch identifier\n @param yield The yield amount\n @param maxAllowedYield The maximum allowed yield"},"eventSelector":"001f1157c3ec7dc0509bb1b6fab05fa542bbfbeb386e304c963567a821b3dd0c","name":"YieldExceedsMaxDeltaWarning","nameLocation":"14170:27:51","parameters":{"id":51388,"nodeType":"ParameterList","parameters":[{"constant":false,"id":51379,"indexed":false,"mutability":"mutable","name":"vault","nameLocation":"14215:5:51","nodeType":"VariableDeclaration","scope":51389,"src":"14207:13:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":51378,"name":"address","nodeType":"ElementaryTypeName","src":"14207:7:51","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":51381,"indexed":false,"mutability":"mutable","name":"asset","nameLocation":"14230:5:51","nodeType":"VariableDeclaration","scope":51389,"src":"14222:13:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":51380,"name":"address","nodeType":"ElementaryTypeName","src":"14222:7:51","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":51383,"indexed":false,"mutability":"mutable","name":"batchId","nameLocation":"14245:7:51","nodeType":"VariableDeclaration","scope":51389,"src":"14237:15:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":51382,"name":"bytes32","nodeType":"ElementaryTypeName","src":"14237:7:51","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"internal"},{"constant":false,"id":51385,"indexed":false,"mutability":"mutable","name":"yield","nameLocation":"14261:5:51","nodeType":"VariableDeclaration","scope":51389,"src":"14254:12:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"},"typeName":{"id":51384,"name":"int256","nodeType":"ElementaryTypeName","src":"14254:6:51","typeDescriptions":{"typeIdentifier":"t_int256","typeString":"int256"}},"visibility":"internal"},{"constant":false,"id":51387,"indexed":false,"mutability":"mutable","name":"maxAllowedYield","nameLocation":"14276:15:51","nodeType":"VariableDeclaration","scope":51389,"src":"14268:23:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":51386,"name":"uint256","nodeType":"ElementaryTypeName","src":"14268:7:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"14197:100:51"}},{"id":51399,"nodeType":"FunctionDefinition","src":"15454:86:51","nodes":[],"documentation":{"id":51390,"nodeType":"StructuredDocumentation","src":"14489:960:51","text":"@notice Pushes assets from kMinter institutional deposits to the designated DN vault for yield generation\n @dev This function is called by kMinter when institutional users deposit underlying assets. The process\n involves: (1) receiving assets already transferred from kMinter, (2) forwarding them to the appropriate\n DN vault for the asset type, (3) updating virtual balance tracking for accurate accounting. This enables\n immediate kToken minting (1:1 with deposits) while assets begin generating yield in the vault system.\n The assets enter the current batch for eventual settlement and yield distribution back to kToken holders.\n @param _asset The underlying asset address being deposited (must be registered in protocol)\n @param amount The quantity of assets being pushed to the vault for yield generation\n @param batchId The current batch identifier from the DN vault for tracking and settlement"},"functionSelector":"a8412deb","implemented":false,"kind":"function","modifiers":[],"name":"kAssetPush","nameLocation":"15463:10:51","parameters":{"id":51397,"nodeType":"ParameterList","parameters":[{"constant":false,"id":51392,"mutability":"mutable","name":"_asset","nameLocation":"15482:6:51","nodeType":"VariableDeclaration","scope":51399,"src":"15474:14:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":51391,"name":"address","nodeType":"ElementaryTypeName","src":"15474:7:51","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":51394,"mutability":"mutable","name":"amount","nameLocation":"15498:6:51","nodeType":"VariableDeclaration","scope":51399,"src":"15490:14:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":51393,"name":"uint256","nodeType":"ElementaryTypeName","src":"15490:7:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":51396,"mutability":"mutable","name":"batchId","nameLocation":"15514:7:51","nodeType":"VariableDeclaration","scope":51399,"src":"15506:15:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":51395,"name":"bytes32","nodeType":"ElementaryTypeName","src":"15506:7:51","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"internal"}],"src":"15473:49:51"},"returnParameters":{"id":51398,"nodeType":"ParameterList","parameters":[],"src":"15539:0:51"},"scope":51572,"stateMutability":"payable","virtual":false,"visibility":"external"},{"id":51409,"nodeType":"FunctionDefinition","src":"16500:93:51","nodes":[],"documentation":{"id":51400,"nodeType":"StructuredDocumentation","src":"15546:949:51","text":"@notice Requests asset withdrawal from vault to fulfill institutional redemption through kMinter\n @dev This function initiates the first phase of the institutional redemption process. The workflow\n involves: (1) registering the redemption request with the vault, (2) creating a kBatchReceiver minimal\n proxy to hold assets for distribution, (3) updating virtual balance accounting, (4) preparing for\n batch settlement. The actual asset transfer occurs later during batch settlement when the vault\n processes all pending requests together. This two-phase approach optimizes gas costs and ensures\n fair settlement across all institutional redemption requests in the batch.\n @param _asset The underlying asset address being redeemed\n @param amount The quantity of assets requested for redemption\n @param batchId The batch identifier for coordinating this redemption with other requests"},"functionSelector":"95f4042b","implemented":false,"kind":"function","modifiers":[],"name":"kAssetRequestPull","nameLocation":"16509:17:51","parameters":{"id":51407,"nodeType":"ParameterList","parameters":[{"constant":false,"id":51402,"mutability":"mutable","name":"_asset","nameLocation":"16535:6:51","nodeType":"VariableDeclaration","scope":51409,"src":"16527:14:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":51401,"name":"address","nodeType":"ElementaryTypeName","src":"16527:7:51","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":51404,"mutability":"mutable","name":"amount","nameLocation":"16551:6:51","nodeType":"VariableDeclaration","scope":51409,"src":"16543:14:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":51403,"name":"uint256","nodeType":"ElementaryTypeName","src":"16543:7:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":51406,"mutability":"mutable","name":"batchId","nameLocation":"16567:7:51","nodeType":"VariableDeclaration","scope":51409,"src":"16559:15:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":51405,"name":"bytes32","nodeType":"ElementaryTypeName","src":"16559:7:51","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"internal"}],"src":"16526:49:51"},"returnParameters":{"id":51408,"nodeType":"ParameterList","parameters":[],"src":"16592:0:51"},"scope":51572,"stateMutability":"payable","virtual":false,"visibility":"external"},{"id":51423,"nodeType":"FunctionDefinition","src":"17946:194:51","nodes":[],"documentation":{"id":51410,"nodeType":"StructuredDocumentation","src":"16787:1154:51","text":"@notice Transfers assets between kStakingVaults for optimal capital allocation and yield optimization\n @dev This function enables dynamic rebalancing of assets across the vault network to optimize yields\n and manage capacity. The transfer is virtual in nature - actual underlying assets may remain in the\n same physical vault while accounting balances are updated. This mechanism allows for: (1) moving\n assets from lower-yield to higher-yield opportunities, (2) rebalancing vault capacity during high\n demand periods, (3) optimizing capital efficiency across the protocol. The batch system ensures\n all transfers are processed fairly during settlement periods.\n @param sourceVault The kStakingVault address transferring assets (will lose virtual balance)\n @param targetVault The kStakingVault address receiving assets (will gain virtual balance)\n @param _asset The underlying asset address being transferred between vaults\n @param amount The quantity of assets to transfer for rebalancing\n @param batchId The batch identifier for coordinating this transfer with settlement"},"functionSelector":"c6099092","implemented":false,"kind":"function","modifiers":[],"name":"kAssetTransfer","nameLocation":"17955:14:51","parameters":{"id":51421,"nodeType":"ParameterList","parameters":[{"constant":false,"id":51412,"mutability":"mutable","name":"sourceVault","nameLocation":"17987:11:51","nodeType":"VariableDeclaration","scope":51423,"src":"17979:19:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":51411,"name":"address","nodeType":"ElementaryTypeName","src":"17979:7:51","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":51414,"mutability":"mutable","name":"targetVault","nameLocation":"18016:11:51","nodeType":"VariableDeclaration","scope":51423,"src":"18008:19:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":51413,"name":"address","nodeType":"ElementaryTypeName","src":"18008:7:51","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":51416,"mutability":"mutable","name":"_asset","nameLocation":"18045:6:51","nodeType":"VariableDeclaration","scope":51423,"src":"18037:14:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":51415,"name":"address","nodeType":"ElementaryTypeName","src":"18037:7:51","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":51418,"mutability":"mutable","name":"amount","nameLocation":"18069:6:51","nodeType":"VariableDeclaration","scope":51423,"src":"18061:14:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":51417,"name":"uint256","nodeType":"ElementaryTypeName","src":"18061:7:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":51420,"mutability":"mutable","name":"batchId","nameLocation":"18093:7:51","nodeType":"VariableDeclaration","scope":51423,"src":"18085:15:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":51419,"name":"bytes32","nodeType":"ElementaryTypeName","src":"18085:7:51","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"internal"}],"src":"17969:137:51"},"returnParameters":{"id":51422,"nodeType":"ParameterList","parameters":[],"src":"18139:0:51"},"scope":51572,"stateMutability":"payable","virtual":false,"visibility":"external"},{"id":51433,"nodeType":"FunctionDefinition","src":"19035:99:51","nodes":[],"documentation":{"id":51424,"nodeType":"StructuredDocumentation","src":"18146:884:51","text":"@notice Requests shares to be pushed for kStakingVault staking operations and batch processing\n @dev This function is part of the share-based accounting system for retail users in kStakingVaults.\n When users stake kTokens, the vault requests shares to be pushed to track their ownership. The\n process coordinates: (1) conversion of kTokens to vault shares at current share price, (2) updating\n user balances in the vault system, (3) preparing for batch settlement. Share requests are batched\n to optimize gas costs and ensure fair pricing across all users in the same settlement period.\n @param sourceVault The kStakingVault address requesting share push operations\n @param amount The quantity of shares being requested for push to users\n @param batchId The batch identifier for coordinating share operations with settlement"},"functionSelector":"d7eebeaf","implemented":false,"kind":"function","modifiers":[],"name":"kSharesRequestPush","nameLocation":"19044:18:51","parameters":{"id":51431,"nodeType":"ParameterList","parameters":[{"constant":false,"id":51426,"mutability":"mutable","name":"sourceVault","nameLocation":"19071:11:51","nodeType":"VariableDeclaration","scope":51433,"src":"19063:19:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":51425,"name":"address","nodeType":"ElementaryTypeName","src":"19063:7:51","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":51428,"mutability":"mutable","name":"amount","nameLocation":"19092:6:51","nodeType":"VariableDeclaration","scope":51433,"src":"19084:14:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":51427,"name":"uint256","nodeType":"ElementaryTypeName","src":"19084:7:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":51430,"mutability":"mutable","name":"batchId","nameLocation":"19108:7:51","nodeType":"VariableDeclaration","scope":51433,"src":"19100:15:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":51429,"name":"bytes32","nodeType":"ElementaryTypeName","src":"19100:7:51","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"internal"}],"src":"19062:54:51"},"returnParameters":{"id":51432,"nodeType":"ParameterList","parameters":[],"src":"19133:0:51"},"scope":51572,"stateMutability":"payable","virtual":false,"visibility":"external"},{"id":51443,"nodeType":"FunctionDefinition","src":"20062:99:51","nodes":[],"documentation":{"id":51434,"nodeType":"StructuredDocumentation","src":"19140:917:51","text":"@notice Requests shares to be pulled for kStakingVault redemption operations\n @dev This function handles the share-based redemption process for retail users withdrawing from\n kStakingVaults. The process involves: (1) calculating share amounts to redeem based on user\n requests, (2) preparing for conversion back to kTokens at settlement time, (3) coordinating\n with the batch settlement system for fair pricing. Unlike institutional redemptions through\n kMinter, this uses share-based accounting to handle smaller, more frequent retail operations\n efficiently through the vault's batch processing system.\n @param sourceVault The kStakingVault address requesting share pull for redemptions\n @param amount The quantity of shares being requested for pull from users\n @param batchId The batch identifier for coordinating share redemptions with settlement"},"functionSelector":"8f6b6ee2","implemented":false,"kind":"function","modifiers":[],"name":"kSharesRequestPull","nameLocation":"20071:18:51","parameters":{"id":51441,"nodeType":"ParameterList","parameters":[{"constant":false,"id":51436,"mutability":"mutable","name":"sourceVault","nameLocation":"20098:11:51","nodeType":"VariableDeclaration","scope":51443,"src":"20090:19:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":51435,"name":"address","nodeType":"ElementaryTypeName","src":"20090:7:51","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":51438,"mutability":"mutable","name":"amount","nameLocation":"20119:6:51","nodeType":"VariableDeclaration","scope":51443,"src":"20111:14:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":51437,"name":"uint256","nodeType":"ElementaryTypeName","src":"20111:7:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":51440,"mutability":"mutable","name":"batchId","nameLocation":"20135:7:51","nodeType":"VariableDeclaration","scope":51443,"src":"20127:15:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":51439,"name":"bytes32","nodeType":"ElementaryTypeName","src":"20127:7:51","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"internal"}],"src":"20089:54:51"},"returnParameters":{"id":51442,"nodeType":"ParameterList","parameters":[],"src":"20160:0:51"},"scope":51572,"stateMutability":"payable","virtual":false,"visibility":"external"},{"id":51461,"nodeType":"FunctionDefinition","src":"21562:289:51","nodes":[],"documentation":{"id":51444,"nodeType":"StructuredDocumentation","src":"20351:1206:51","text":"@notice Proposes a batch settlement for a vault with yield distribution through kToken minting/burning\n @dev This is the core function that initiates yield distribution in the KAM protocol. The settlement\n process involves: (1) calculating final yields after a batch period, (2) determining net new deposits/\n redemptions, (3) creating a proposal with cooldown period for security verification, (4) preparing for\n kToken supply adjustment to maintain 1:1 backing. Positive yields result in kToken minting (distributing\n gains to all holders), while losses result in kToken burning (socializing losses). The cooldown period\n allows guardians to verify calculations before execution, ensuring protocol integrity.\n @param asset The underlying asset address being settled (USDC, WBTC, etc.)\n @param vault The DN vault address where yield was generated\n @param batchId The batch identifier for this settlement period\n @param totalAssets Total asset value in the vault after yield generation/loss\n @param lastFeesChargedManagement Last management fees charged\n @param lastFeesChargedPerformance Last performance fees charged"},"functionSelector":"3e25562e","implemented":false,"kind":"function","modifiers":[],"name":"proposeSettleBatch","nameLocation":"21571:18:51","parameters":{"id":51457,"nodeType":"ParameterList","parameters":[{"constant":false,"id":51446,"mutability":"mutable","name":"asset","nameLocation":"21607:5:51","nodeType":"VariableDeclaration","scope":51461,"src":"21599:13:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":51445,"name":"address","nodeType":"ElementaryTypeName","src":"21599:7:51","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":51448,"mutability":"mutable","name":"vault","nameLocation":"21630:5:51","nodeType":"VariableDeclaration","scope":51461,"src":"21622:13:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":51447,"name":"address","nodeType":"ElementaryTypeName","src":"21622:7:51","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":51450,"mutability":"mutable","name":"batchId","nameLocation":"21653:7:51","nodeType":"VariableDeclaration","scope":51461,"src":"21645:15:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":51449,"name":"bytes32","nodeType":"ElementaryTypeName","src":"21645:7:51","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"internal"},{"constant":false,"id":51452,"mutability":"mutable","name":"totalAssets","nameLocation":"21678:11:51","nodeType":"VariableDeclaration","scope":51461,"src":"21670:19:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":51451,"name":"uint256","nodeType":"ElementaryTypeName","src":"21670:7:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":51454,"mutability":"mutable","name":"lastFeesChargedManagement","nameLocation":"21706:25:51","nodeType":"VariableDeclaration","scope":51461,"src":"21699:32:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"},"typeName":{"id":51453,"name":"uint64","nodeType":"ElementaryTypeName","src":"21699:6:51","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"}},"visibility":"internal"},{"constant":false,"id":51456,"mutability":"mutable","name":"lastFeesChargedPerformance","nameLocation":"21748:26:51","nodeType":"VariableDeclaration","scope":51461,"src":"21741:33:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"},"typeName":{"id":51455,"name":"uint64","nodeType":"ElementaryTypeName","src":"21741:6:51","typeDescriptions":{"typeIdentifier":"t_uint64","typeString":"uint64"}},"visibility":"internal"}],"src":"21589:191:51"},"returnParameters":{"id":51460,"nodeType":"ParameterList","parameters":[{"constant":false,"id":51459,"mutability":"mutable","name":"proposalId","nameLocation":"21839:10:51","nodeType":"VariableDeclaration","scope":51461,"src":"21831:18:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":51458,"name":"bytes32","nodeType":"ElementaryTypeName","src":"21831:7:51","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"internal"}],"src":"21830:20:51"},"scope":51572,"stateMutability":"payable","virtual":false,"visibility":"external"},{"id":51467,"nodeType":"FunctionDefinition","src":"22603:65:51","nodes":[],"documentation":{"id":51462,"nodeType":"StructuredDocumentation","src":"21857:741:51","text":"@notice Executes a settlement proposal after the security cooldown period has elapsed\n @dev This function completes the yield distribution process by: (1) verifying the cooldown period has\n passed, (2) executing the actual kToken minting/burning to distribute yield or account for losses,\n (3) updating all vault balances and user accounting, (4) processing any pending redemption requests\n from the batch. This is where the 1:1 backing is maintained - the kToken supply is adjusted to exactly\n reflect the underlying asset changes, ensuring every kToken remains backed by real assets plus distributed\n yield.\n @param proposalId The unique identifier of the settlement proposal to execute"},"functionSelector":"10d03d64","implemented":false,"kind":"function","modifiers":[],"name":"executeSettleBatch","nameLocation":"22612:18:51","parameters":{"id":51465,"nodeType":"ParameterList","parameters":[{"constant":false,"id":51464,"mutability":"mutable","name":"proposalId","nameLocation":"22639:10:51","nodeType":"VariableDeclaration","scope":51467,"src":"22631:18:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":51463,"name":"bytes32","nodeType":"ElementaryTypeName","src":"22631:7:51","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"internal"}],"src":"22630:20:51"},"returnParameters":{"id":51466,"nodeType":"ParameterList","parameters":[],"src":"22667:0:51"},"scope":51572,"stateMutability":"payable","virtual":false,"visibility":"external"},{"id":51473,"nodeType":"FunctionDefinition","src":"23349:53:51","nodes":[],"documentation":{"id":51468,"nodeType":"StructuredDocumentation","src":"22674:670:51","text":"@notice Cancels a settlement proposal before execution if errors are detected\n @dev Provides a safety mechanism for guardians to cancel potentially incorrect settlement proposals.\n This can be used when: (1) yield calculations appear incorrect, (2) system errors are detected,\n (3) market conditions require recalculation. Cancellation allows for proposal correction and\n resubmission with accurate data, preventing incorrect yield distribution that could affect the\n protocol's 1:1 backing guarantee. Only callable before the proposal execution.\n @param proposalId The unique identifier of the settlement proposal to cancel"},"functionSelector":"37376ca8","implemented":false,"kind":"function","modifiers":[],"name":"cancelProposal","nameLocation":"23358:14:51","parameters":{"id":51471,"nodeType":"ParameterList","parameters":[{"constant":false,"id":51470,"mutability":"mutable","name":"proposalId","nameLocation":"23381:10:51","nodeType":"VariableDeclaration","scope":51473,"src":"23373:18:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":51469,"name":"bytes32","nodeType":"ElementaryTypeName","src":"23373:7:51","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"internal"}],"src":"23372:20:51"},"returnParameters":{"id":51472,"nodeType":"ParameterList","parameters":[],"src":"23401:0:51"},"scope":51572,"stateMutability":"nonpayable","virtual":false,"visibility":"external"},{"id":51479,"nodeType":"FunctionDefinition","src":"24287:58:51","nodes":[],"documentation":{"id":51474,"nodeType":"StructuredDocumentation","src":"23591:691:51","text":"@notice Sets the security cooldown period for settlement proposals\n @dev The cooldown period provides critical security by requiring a delay between proposal creation\n and execution. This allows: (1) protocol guardians to verify yield calculations, (2) detection of\n potential errors or malicious proposals, (3) emergency intervention if needed. The cooldown should\n balance security (longer is safer) with operational efficiency (shorter enables faster yield\n distribution). Only admin roles can modify this parameter as it affects protocol safety.\n @param cooldown The new cooldown period in seconds before settlement proposals can be executed"},"functionSelector":"46b6aa23","implemented":false,"kind":"function","modifiers":[],"name":"setSettlementCooldown","nameLocation":"24296:21:51","parameters":{"id":51477,"nodeType":"ParameterList","parameters":[{"constant":false,"id":51476,"mutability":"mutable","name":"cooldown","nameLocation":"24326:8:51","nodeType":"VariableDeclaration","scope":51479,"src":"24318:16:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":51475,"name":"uint256","nodeType":"ElementaryTypeName","src":"24318:7:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"24317:18:51"},"returnParameters":{"id":51478,"nodeType":"ParameterList","parameters":[],"src":"24344:0:51"},"scope":51572,"stateMutability":"nonpayable","virtual":false,"visibility":"external"},{"id":51485,"nodeType":"FunctionDefinition","src":"25146:57:51","nodes":[],"documentation":{"id":51480,"nodeType":"StructuredDocumentation","src":"24351:790:51","text":"@notice Updates the yield tolerance threshold for settlement proposals\n @dev This function allows protocol governance to adjust the maximum acceptable yield deviation before\n settlement proposals are rejected. The yield tolerance acts as a safety mechanism to prevent settlement\n proposals with extremely high or low yield values that could indicate calculation errors, data corruption,\n or potential manipulation attempts. Setting an appropriate tolerance balances protocol safety with\n operational flexibility, allowing normal yield fluctuations while blocking suspicious proposals.\n Only admin roles can modify this parameter as it affects protocol safety.\n @param tolerance_ The new yield tolerance in basis points (e.g., 1000 = 10%)"},"functionSelector":"0fa37592","implemented":false,"kind":"function","modifiers":[],"name":"setMaxAllowedDelta","nameLocation":"25155:18:51","parameters":{"id":51483,"nodeType":"ParameterList","parameters":[{"constant":false,"id":51482,"mutability":"mutable","name":"tolerance_","nameLocation":"25182:10:51","nodeType":"VariableDeclaration","scope":51485,"src":"25174:18:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":51481,"name":"uint256","nodeType":"ElementaryTypeName","src":"25174:7:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"25173:20:51"},"returnParameters":{"id":51484,"nodeType":"ParameterList","parameters":[],"src":"25202:0:51"},"scope":51572,"stateMutability":"nonpayable","virtual":false,"visibility":"external"},{"id":51494,"nodeType":"FunctionDefinition","src":"25897:103:51","nodes":[],"documentation":{"id":51486,"nodeType":"StructuredDocumentation","src":"25391:501:51","text":"@notice Retrieves all pending settlement proposals for a specific vault\n @dev Returns proposal IDs that have been created but not yet executed or cancelled.\n Used for monitoring and management of the settlement queue. Essential for guardians\n to track proposals awaiting verification during the cooldown period.\n @param vault_ The vault address to query for pending settlement proposals\n @return pendingProposals Array of proposal IDs currently pending execution"},"functionSelector":"41076538","implemented":false,"kind":"function","modifiers":[],"name":"getPendingProposals","nameLocation":"25906:19:51","parameters":{"id":51489,"nodeType":"ParameterList","parameters":[{"constant":false,"id":51488,"mutability":"mutable","name":"vault_","nameLocation":"25934:6:51","nodeType":"VariableDeclaration","scope":51494,"src":"25926:14:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":51487,"name":"address","nodeType":"ElementaryTypeName","src":"25926:7:51","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"25925:16:51"},"returnParameters":{"id":51493,"nodeType":"ParameterList","parameters":[{"constant":false,"id":51492,"mutability":"mutable","name":"pendingProposals","nameLocation":"25982:16:51","nodeType":"VariableDeclaration","scope":51494,"src":"25965:33:51","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes32_$dyn_memory_ptr","typeString":"bytes32[]"},"typeName":{"baseType":{"id":51490,"name":"bytes32","nodeType":"ElementaryTypeName","src":"25965:7:51","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"id":51491,"nodeType":"ArrayTypeName","src":"25965:9:51","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes32_$dyn_storage_ptr","typeString":"bytes32[]"}},"visibility":"internal"}],"src":"25964:35:51"},"scope":51572,"stateMutability":"view","virtual":false,"visibility":"external"},{"id":51502,"nodeType":"FunctionDefinition","src":"26508:80:51","nodes":[],"documentation":{"id":51495,"nodeType":"StructuredDocumentation","src":"26005:498:51","text":"@notice Gets the DN vault address responsible for yield generation for a specific asset\n @dev Each supported asset (USDC, WBTC, etc.) has a designated DN vault that handles\n yield farming strategies. This mapping is critical for routing institutional deposits\n and coordinating settlement processes across the protocol's vault network.\n @param asset The underlying asset address to query\n @return vault The DN vault address that generates yield for this asset"},"functionSelector":"d0fab258","implemented":false,"kind":"function","modifiers":[],"name":"getDNVaultByAsset","nameLocation":"26517:17:51","parameters":{"id":51498,"nodeType":"ParameterList","parameters":[{"constant":false,"id":51497,"mutability":"mutable","name":"asset","nameLocation":"26543:5:51","nodeType":"VariableDeclaration","scope":51502,"src":"26535:13:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":51496,"name":"address","nodeType":"ElementaryTypeName","src":"26535:7:51","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"26534:15:51"},"returnParameters":{"id":51501,"nodeType":"ParameterList","parameters":[{"constant":false,"id":51500,"mutability":"mutable","name":"vault","nameLocation":"26581:5:51","nodeType":"VariableDeclaration","scope":51502,"src":"26573:13:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":51499,"name":"address","nodeType":"ElementaryTypeName","src":"26573:7:51","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"26572:15:51"},"scope":51572,"stateMutability":"view","virtual":false,"visibility":"external"},{"id":51514,"nodeType":"FunctionDefinition","src":"27340:167:51","nodes":[],"documentation":{"id":51503,"nodeType":"StructuredDocumentation","src":"26594:741:51","text":"@notice Retrieves the virtual balance accounting for a specific batch in a vault\n @dev Returns the deposited and requested amounts that are tracked virtually for batch\n processing. These balances coordinate institutional flows (kMinter) and retail flows\n (kStakingVault) within the same settlement period, ensuring fair processing and accurate\n yield distribution across all participants in the batch.\n @param vault The vault address to query batch balances for\n @param batchId The batch identifier to retrieve balance information\n @return deposited Total amount of assets deposited into this batch\n @return requested Total amount of assets requested for redemption from this batch"},"functionSelector":"bff9c21a","implemented":false,"kind":"function","modifiers":[],"name":"getBatchIdBalances","nameLocation":"27349:18:51","parameters":{"id":51508,"nodeType":"ParameterList","parameters":[{"constant":false,"id":51505,"mutability":"mutable","name":"vault","nameLocation":"27385:5:51","nodeType":"VariableDeclaration","scope":51514,"src":"27377:13:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":51504,"name":"address","nodeType":"ElementaryTypeName","src":"27377:7:51","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":51507,"mutability":"mutable","name":"batchId","nameLocation":"27408:7:51","nodeType":"VariableDeclaration","scope":51514,"src":"27400:15:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":51506,"name":"bytes32","nodeType":"ElementaryTypeName","src":"27400:7:51","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"internal"}],"src":"27367:54:51"},"returnParameters":{"id":51513,"nodeType":"ParameterList","parameters":[{"constant":false,"id":51510,"mutability":"mutable","name":"deposited","nameLocation":"27477:9:51","nodeType":"VariableDeclaration","scope":51514,"src":"27469:17:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":51509,"name":"uint256","nodeType":"ElementaryTypeName","src":"27469:7:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":51512,"mutability":"mutable","name":"requested","nameLocation":"27496:9:51","nodeType":"VariableDeclaration","scope":51514,"src":"27488:17:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":51511,"name":"uint256","nodeType":"ElementaryTypeName","src":"27488:7:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"27468:38:51"},"scope":51572,"stateMutability":"view","virtual":false,"visibility":"external"},{"id":51524,"nodeType":"FunctionDefinition","src":"28167:92:51","nodes":[],"documentation":{"id":51515,"nodeType":"StructuredDocumentation","src":"27513:649:51","text":"@notice Retrieves the total shares requested for redemption in a specific vault batch\n @dev Tracks share-based redemption requests from retail users in kStakingVaults.\n This is separate from asset-based tracking and enables the protocol to coordinate\n both institutional (asset-based) and retail (share-based) operations within the\n same batch settlement process, ensuring consistent share price calculations.\n @param vault The kStakingVault address to query\n @param batchId The batch identifier for the redemption period\n @return The total amount of shares requested for redemption in this batch"},"functionSelector":"53a7f925","implemented":false,"kind":"function","modifiers":[],"name":"getRequestedShares","nameLocation":"28176:18:51","parameters":{"id":51520,"nodeType":"ParameterList","parameters":[{"constant":false,"id":51517,"mutability":"mutable","name":"vault","nameLocation":"28203:5:51","nodeType":"VariableDeclaration","scope":51524,"src":"28195:13:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":51516,"name":"address","nodeType":"ElementaryTypeName","src":"28195:7:51","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":51519,"mutability":"mutable","name":"batchId","nameLocation":"28218:7:51","nodeType":"VariableDeclaration","scope":51524,"src":"28210:15:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":51518,"name":"bytes32","nodeType":"ElementaryTypeName","src":"28210:7:51","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"internal"}],"src":"28194:32:51"},"returnParameters":{"id":51523,"nodeType":"ParameterList","parameters":[{"constant":false,"id":51522,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":51524,"src":"28250:7:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":51521,"name":"uint256","nodeType":"ElementaryTypeName","src":"28250:7:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"28249:9:51"},"scope":51572,"stateMutability":"view","virtual":false,"visibility":"external"},{"id":51530,"nodeType":"FunctionDefinition","src":"28681:49:51","nodes":[],"documentation":{"id":51525,"nodeType":"StructuredDocumentation","src":"28265:411:51","text":"@notice Checks if the kAssetRouter contract is currently paused\n @dev When paused, all critical functions (asset movements, settlements) are halted\n for emergency protection. This affects the entire protocol's money flow coordination,\n preventing new deposits, redemptions, and yield distributions until unpaused.\n @return True if the contract is paused and operations are halted"},"functionSelector":"b187bd26","implemented":false,"kind":"function","modifiers":[],"name":"isPaused","nameLocation":"28690:8:51","parameters":{"id":51526,"nodeType":"ParameterList","parameters":[],"src":"28698:2:51"},"returnParameters":{"id":51529,"nodeType":"ParameterList","parameters":[{"constant":false,"id":51528,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":51530,"src":"28724:4:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":51527,"name":"bool","nodeType":"ElementaryTypeName","src":"28724:4:51","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"}],"src":"28723:6:51"},"scope":51572,"stateMutability":"view","virtual":false,"visibility":"external"},{"id":51539,"nodeType":"FunctionDefinition","src":"29335:139:51","nodes":[],"documentation":{"id":51531,"nodeType":"StructuredDocumentation","src":"28736:594:51","text":"@notice Retrieves complete details of a specific settlement proposal\n @dev Returns the full VaultSettlementProposal struct containing all parameters needed\n for yield distribution verification. Essential for guardians to review proposal accuracy\n during the cooldown period before execution. Contains asset amounts, yield calculations,\n and timing information for comprehensive proposal analysis.\n @param proposalId The unique identifier of the settlement proposal to query\n @return proposal The complete settlement proposal struct with all details"},"functionSelector":"b0b3242d","implemented":false,"kind":"function","modifiers":[],"name":"getSettlementProposal","nameLocation":"29344:21:51","parameters":{"id":51534,"nodeType":"ParameterList","parameters":[{"constant":false,"id":51533,"mutability":"mutable","name":"proposalId","nameLocation":"29374:10:51","nodeType":"VariableDeclaration","scope":51539,"src":"29366:18:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":51532,"name":"bytes32","nodeType":"ElementaryTypeName","src":"29366:7:51","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"internal"}],"src":"29365:20:51"},"returnParameters":{"id":51538,"nodeType":"ParameterList","parameters":[{"constant":false,"id":51537,"mutability":"mutable","name":"proposal","nameLocation":"29464:8:51","nodeType":"VariableDeclaration","scope":51539,"src":"29433:39:51","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_struct$_VaultSettlementProposal_$51202_memory_ptr","typeString":"struct IkAssetRouter.VaultSettlementProposal"},"typeName":{"id":51536,"nodeType":"UserDefinedTypeName","pathNode":{"id":51535,"name":"VaultSettlementProposal","nameLocations":["29433:23:51"],"nodeType":"IdentifierPath","referencedDeclaration":51202,"src":"29433:23:51"},"referencedDeclaration":51202,"src":"29433:23:51","typeDescriptions":{"typeIdentifier":"t_struct$_VaultSettlementProposal_$51202_storage_ptr","typeString":"struct IkAssetRouter.VaultSettlementProposal"}},"visibility":"internal"}],"src":"29432:41:51"},"scope":51572,"stateMutability":"view","virtual":false,"visibility":"external"},{"id":51549,"nodeType":"FunctionDefinition","src":"30106:110:51","nodes":[],"documentation":{"id":51540,"nodeType":"StructuredDocumentation","src":"29480:621:51","text":"@notice Checks if a settlement proposal is ready for execution with detailed status\n @dev Validates all execution requirements: (1) proposal exists and is pending, (2) cooldown\n period has elapsed, (3) proposal hasn't been cancelled. Returns both boolean result and\n human-readable reason for failures, enabling better error handling and user feedback.\n @param proposalId The unique identifier of the proposal to check\n @return canExecute True if the proposal can be executed immediately\n @return reason Descriptive message explaining why execution is blocked (if applicable)"},"functionSelector":"c31fd6aa","implemented":false,"kind":"function","modifiers":[],"name":"canExecuteProposal","nameLocation":"30115:18:51","parameters":{"id":51543,"nodeType":"ParameterList","parameters":[{"constant":false,"id":51542,"mutability":"mutable","name":"proposalId","nameLocation":"30142:10:51","nodeType":"VariableDeclaration","scope":51549,"src":"30134:18:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":51541,"name":"bytes32","nodeType":"ElementaryTypeName","src":"30134:7:51","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"internal"}],"src":"30133:20:51"},"returnParameters":{"id":51548,"nodeType":"ParameterList","parameters":[{"constant":false,"id":51545,"mutability":"mutable","name":"canExecute","nameLocation":"30182:10:51","nodeType":"VariableDeclaration","scope":51549,"src":"30177:15:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":51544,"name":"bool","nodeType":"ElementaryTypeName","src":"30177:4:51","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"},{"constant":false,"id":51547,"mutability":"mutable","name":"reason","nameLocation":"30208:6:51","nodeType":"VariableDeclaration","scope":51549,"src":"30194:20:51","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_string_memory_ptr","typeString":"string"},"typeName":{"id":51546,"name":"string","nodeType":"ElementaryTypeName","src":"30194:6:51","typeDescriptions":{"typeIdentifier":"t_string_storage_ptr","typeString":"string"}},"visibility":"internal"}],"src":"30176:39:51"},"scope":51572,"stateMutability":"view","virtual":false,"visibility":"external"},{"id":51555,"nodeType":"FunctionDefinition","src":"30717:74:51","nodes":[],"documentation":{"id":51550,"nodeType":"StructuredDocumentation","src":"30222:490:51","text":"@notice Gets the current security cooldown period for settlement proposals\n @dev The cooldown period determines how long proposals must wait before execution.\n This security mechanism allows guardians to verify yield calculations and prevents\n immediate execution of potentially malicious or incorrect proposals. Critical for\n maintaining protocol integrity during yield distribution processes.\n @return cooldown The current cooldown period in seconds"},"functionSelector":"c34ee627","implemented":false,"kind":"function","modifiers":[],"name":"getSettlementCooldown","nameLocation":"30726:21:51","parameters":{"id":51551,"nodeType":"ParameterList","parameters":[],"src":"30747:2:51"},"returnParameters":{"id":51554,"nodeType":"ParameterList","parameters":[{"constant":false,"id":51553,"mutability":"mutable","name":"cooldown","nameLocation":"30781:8:51","nodeType":"VariableDeclaration","scope":51555,"src":"30773:16:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":51552,"name":"uint256","nodeType":"ElementaryTypeName","src":"30773:7:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"30772:18:51"},"scope":51572,"stateMutability":"view","virtual":false,"visibility":"external"},{"id":51561,"nodeType":"FunctionDefinition","src":"31354:71:51","nodes":[],"documentation":{"id":51556,"nodeType":"StructuredDocumentation","src":"30797:552:51","text":"@notice Gets the current yield tolerance threshold for settlement proposals\n @dev The yield tolerance determines the maximum acceptable yield deviation before settlement proposals\n are automatically rejected. This acts as a safety mechanism to prevent processing of settlement proposals\n with excessive yield values that could indicate calculation errors or potential manipulation. The tolerance\n is expressed in basis points where 10000 equals 100%.\n @return tolerance The current yield tolerance in basis points"},"functionSelector":"370585f4","implemented":false,"kind":"function","modifiers":[],"name":"getYieldTolerance","nameLocation":"31363:17:51","parameters":{"id":51557,"nodeType":"ParameterList","parameters":[],"src":"31380:2:51"},"returnParameters":{"id":51560,"nodeType":"ParameterList","parameters":[{"constant":false,"id":51559,"mutability":"mutable","name":"tolerance","nameLocation":"31414:9:51","nodeType":"VariableDeclaration","scope":51561,"src":"31406:17:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":51558,"name":"uint256","nodeType":"ElementaryTypeName","src":"31406:7:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"31405:19:51"},"scope":51572,"stateMutability":"view","virtual":false,"visibility":"external"},{"id":51571,"nodeType":"FunctionDefinition","src":"32138:86:51","nodes":[],"documentation":{"id":51562,"nodeType":"StructuredDocumentation","src":"31431:702:51","text":"@notice Retrieves the virtual balance of assets for a vault across all its adapters\n @dev This function aggregates asset balances across all adapters connected to a vault to determine\n the total virtual balance available for operations. Essential for coordination between physical\n asset locations and protocol accounting. Used for settlement calculations and ensuring sufficient\n assets are available for redemptions and transfers within the money flow system.\n @param vault The vault address to calculate virtual balance for\n @param asset The underlying asset of the vault\n @return balance The total virtual asset balance across all vault adapters"},"functionSelector":"6ad3182d","implemented":false,"kind":"function","modifiers":[],"name":"virtualBalance","nameLocation":"32147:14:51","parameters":{"id":51567,"nodeType":"ParameterList","parameters":[{"constant":false,"id":51564,"mutability":"mutable","name":"vault","nameLocation":"32170:5:51","nodeType":"VariableDeclaration","scope":51571,"src":"32162:13:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":51563,"name":"address","nodeType":"ElementaryTypeName","src":"32162:7:51","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":51566,"mutability":"mutable","name":"asset","nameLocation":"32185:5:51","nodeType":"VariableDeclaration","scope":51571,"src":"32177:13:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":51565,"name":"address","nodeType":"ElementaryTypeName","src":"32177:7:51","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"32161:30:51"},"returnParameters":{"id":51570,"nodeType":"ParameterList","parameters":[{"constant":false,"id":51569,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":51571,"src":"32215:7:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":51568,"name":"uint256","nodeType":"ElementaryTypeName","src":"32215:7:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"32214:9:51"},"scope":51572,"stateMutability":"view","virtual":false,"visibility":"external"}],"abstract":false,"baseContracts":[{"baseName":{"id":51164,"name":"IVersioned","nameLocations":["1264:10:51"],"nodeType":"IdentifierPath","referencedDeclaration":51152,"src":"1264:10:51"},"id":51165,"nodeType":"InheritanceSpecifier","src":"1264:10:51"}],"canonicalName":"IkAssetRouter","contractDependencies":[],"contractKind":"interface","documentation":{"id":51163,"nodeType":"StructuredDocumentation","src":"203:1034:51","text":"@title IkAssetRouter\n @notice Central money flow coordinator for the KAM protocol managing all asset movements and settlements\n @dev This interface defines the core functionality for kAssetRouter, which serves as the primary coordinator\n for all asset movements within the KAM protocol ecosystem. Key responsibilities include: (1) Managing asset\n flows from kMinter institutional deposits to DN vaults for yield generation, (2) Coordinating asset transfers\n between kStakingVaults for optimal allocation, (3) Processing batch settlements with yield distribution through\n kToken minting/burning, (4) Maintaining virtual balance tracking across all vaults, (5) Implementing settlement\n cooldown periods for security, (6) Executing peg protection mechanisms during market stress. The router acts as\n the central hub that enables efficient capital allocation while maintaining the 1:1 backing guarantee of kTokens\n through precise yield distribution and loss management across the protocol's vault network."},"fullyImplemented":false,"linearizedBaseContracts":[51572,51152],"name":"IkAssetRouter","nameLocation":"1247:13:51","scope":51573,"usedErrors":[],"usedEvents":[51207,51214,51223,51234,51243,51252,51267,51276,51283,51292,51299,51308,51329,51340,51349,51362,51369,51376,51389]}],"license":"MIT"},"id":51}