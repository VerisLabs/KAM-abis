{"abi":[{"type":"function","name":"asset","inputs":[],"outputs":[{"name":"","type":"address","internalType":"address"}],"stateMutability":"view"},{"type":"function","name":"batchId","inputs":[],"outputs":[{"name":"","type":"bytes32","internalType":"bytes32"}],"stateMutability":"view"},{"type":"function","name":"kMinter","inputs":[],"outputs":[{"name":"","type":"address","internalType":"address"}],"stateMutability":"view"},{"type":"function","name":"pullAssets","inputs":[{"name":"receiver","type":"address","internalType":"address"},{"name":"amount","type":"uint256","internalType":"uint256"},{"name":"_batchId","type":"bytes32","internalType":"bytes32"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"rescueAssets","inputs":[{"name":"asset_","type":"address","internalType":"address"}],"outputs":[],"stateMutability":"payable"},{"type":"event","name":"BatchReceiverInitialized","inputs":[{"name":"kMinter","type":"address","indexed":true,"internalType":"address"},{"name":"batchId","type":"bytes32","indexed":true,"internalType":"bytes32"},{"name":"asset","type":"address","indexed":false,"internalType":"address"}],"anonymous":false},{"type":"event","name":"PulledAssets","inputs":[{"name":"receiver","type":"address","indexed":true,"internalType":"address"},{"name":"asset","type":"address","indexed":true,"internalType":"address"},{"name":"amount","type":"uint256","indexed":false,"internalType":"uint256"}],"anonymous":false},{"type":"event","name":"RescuedAssets","inputs":[{"name":"asset","type":"address","indexed":true,"internalType":"address"},{"name":"to","type":"address","indexed":true,"internalType":"address"},{"name":"amount","type":"uint256","indexed":false,"internalType":"uint256"}],"anonymous":false},{"type":"event","name":"RescuedETH","inputs":[{"name":"asset","type":"address","indexed":true,"internalType":"address"},{"name":"amount","type":"uint256","indexed":false,"internalType":"uint256"}],"anonymous":false}],"bytecode":{"object":"0x","sourceMap":"","linkReferences":{}},"deployedBytecode":{"object":"0x","sourceMap":"","linkReferences":{}},"methodIdentifiers":{"asset()":"38d52e0f","batchId()":"4972134a","kMinter()":"1948f57f","pullAssets(address,uint256,bytes32)":"5cd76354","rescueAssets(address)":"25db13f1"},"rawMetadata":"{\"compiler\":{\"version\":\"0.8.30+commit.73712a01\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"kMinter\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"bytes32\",\"name\":\"batchId\",\"type\":\"bytes32\"},{\"indexed\":false,\"internalType\":\"address\",\"name\":\"asset\",\"type\":\"address\"}],\"name\":\"BatchReceiverInitialized\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"receiver\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"asset\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"PulledAssets\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"asset\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"to\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"RescuedAssets\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"asset\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"RescuedETH\",\"type\":\"event\"},{\"inputs\":[],\"name\":\"asset\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"batchId\",\"outputs\":[{\"internalType\":\"bytes32\",\"name\":\"\",\"type\":\"bytes32\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"kMinter\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"receiver\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"},{\"internalType\":\"bytes32\",\"name\":\"_batchId\",\"type\":\"bytes32\"}],\"name\":\"pullAssets\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"asset_\",\"type\":\"address\"}],\"name\":\"rescueAssets\",\"outputs\":[],\"stateMutability\":\"payable\",\"type\":\"function\"}],\"devdoc\":{\"details\":\"kBatchReceiver contracts are deployed as minimal proxies (one per batch) to efficiently manage the distribution of settled assets to users who requested redemptions. This design pattern provides: (1) gas-efficient deployment since each batch gets its own isolated distribution contract, (2) clear asset segregation preventing cross-batch contamination, (3) simplified accounting where each receiver holds exactly the assets needed for one batch. The contract serves as a temporary holding mechanism - kMinter transfers settled assets to the receiver, then users can pull their proportional share. This architecture ensures fair distribution and prevents front-running during the redemption settlement process. Only the originating kMinter contract can interact with receivers, maintaining strict access control throughout the asset distribution phase.\",\"events\":{\"BatchReceiverInitialized(address,bytes32,address)\":{\"details\":\"This event marks the successful deployment and configuration of a minimal proxy receiver for a specific batch. Essential for tracking the lifecycle of batch settlement processes and enabling off-chain systems to monitor when settlement assets can begin flowing to receivers.\",\"params\":{\"asset\":\"The underlying asset address (USDC, WBTC, etc.) this receiver will distribute\",\"batchId\":\"The unique identifier of the batch this receiver will serve\",\"kMinter\":\"The address of the kMinter contract authorized to interact with this receiver\"}},\"PulledAssets(address,address,uint256)\":{\"details\":\"This event tracks the actual fulfillment of redemption requests, recording when users receive their settled assets. Critical for reconciliation and ensuring all batch participants receive their proportional share during the distribution phase.\",\"params\":{\"amount\":\"The quantity of assets successfully distributed to the receiver\",\"asset\":\"The asset contract address that was transferred\",\"receiver\":\"The address that received the distributed assets (the redeeming user)\"}},\"RescuedAssets(address,address,uint256)\":{\"details\":\"Provides a safety mechanism for recovering tokens that were mistakenly sent to the receiver outside of normal operations. This prevents permanent loss of assets while maintaining security.\",\"params\":{\"amount\":\"The quantity of tokens that were successfully rescued\",\"asset\":\"The address of the ERC20 token contract that was rescued\",\"to\":\"The address that received the rescued tokens (typically the kMinter)\"}},\"RescuedETH(address,uint256)\":{\"details\":\"Handles recovery of native ETH that was mistakenly sent to the contract, ensuring no value is permanently locked in the receiver contracts during their operational lifecycle.\",\"params\":{\"amount\":\"The amount of ETH (in wei) that was successfully rescued\",\"asset\":\"The address that received the rescued ETH (typically the kMinter)\"}}},\"kind\":\"dev\",\"methods\":{\"asset()\":{\"details\":\"Returns the asset address configured during initialization (e.g., USDC, WBTC). This determines which token type the receiver will distribute to redemption users. The asset type must match the asset that was originally deposited and requested for redemption in the batch.\",\"returns\":{\"_0\":\"The contract address of the underlying asset this receiver distributes\"}},\"batchId()\":{\"details\":\"Returns the batch ID set during initialization, which links this receiver to a specific batch of redemption requests. Used for validation when pulling assets to ensure operations are performed on the correct batch. Essential for maintaining batch isolation and preventing cross-contamination between different settlement periods.\",\"returns\":{\"_0\":\"The unique batch identifier as a bytes32 hash\"}},\"kMinter()\":{\"details\":\"Returns the immutable kMinter address set during receiver deployment. This address has exclusive permission to call pullAssets() and rescueAssets(), ensuring only the originating kMinter can manage asset distribution for this batch. Critical for maintaining access control and preventing unauthorized asset movements during the redemption settlement process.\",\"returns\":{\"_0\":\"The address of the kMinter contract with administrative permissions over this receiver\"}},\"pullAssets(address,uint256,bytes32)\":{\"details\":\"This is the core asset distribution function that fulfills redemption requests after batch settlement. The process works as follows: (1) kMinter calls this function with user's proportional share, (2) receiver validates the batch ID matches to prevent cross-batch contamination, (3) assets are transferred directly to the user completing their redemption. Only callable by the authorized kMinter contract to maintain strict access control. This function is typically called multiple times per batch as individual users claim their settled redemptions, ensuring fair and orderly asset distribution.\",\"params\":{\"_batchId\":\"The batch identifier for validation (must match this receiver's configured batch)\",\"amount\":\"The quantity of assets to transfer based on the user's proportional share\",\"receiver\":\"The address that will receive the settled assets (the user completing redemption)\"}},\"rescueAssets(address)\":{\"details\":\"Provides a safety mechanism for recovering tokens or ETH that were mistakenly sent to the receiver outside of normal settlement operations. The function handles both ERC20 tokens and native ETH recovery. For ERC20 tokens, it validates that the rescue asset is not the receiver's designated settlement asset (to prevent interfering with normal operations). Only the authorized kMinter can execute rescues, ensuring recovered assets return to the proper custodial system. Essential for maintaining protocol security while preventing accidental asset loss during the receiver contract's operational lifecycle.\",\"params\":{\"asset_\":\"The contract address of the asset to rescue (use address(0) for native ETH recovery)\"}}},\"title\":\"IkBatchReceiver\",\"version\":1},\"userdoc\":{\"events\":{\"BatchReceiverInitialized(address,bytes32,address)\":{\"notice\":\"Emitted when a new batch receiver is initialized and ready for asset distribution\"},\"PulledAssets(address,address,uint256)\":{\"notice\":\"Emitted when assets are successfully distributed from the receiver to a redemption user\"},\"RescuedAssets(address,address,uint256)\":{\"notice\":\"Emitted when accidentally sent ERC20 tokens are rescued from the receiver contract\"},\"RescuedETH(address,uint256)\":{\"notice\":\"Emitted when accidentally sent ETH is rescued from the receiver contract\"}},\"kind\":\"user\",\"methods\":{\"asset()\":{\"notice\":\"Retrieves the underlying asset contract address managed by this receiver\"},\"batchId()\":{\"notice\":\"Retrieves the unique batch identifier this receiver serves\"},\"kMinter()\":{\"notice\":\"Retrieves the address of the kMinter contract authorized to interact with this receiver\"},\"pullAssets(address,uint256,bytes32)\":{\"notice\":\"Transfers settled assets from the receiver to a redemption user completing their withdrawal\"},\"rescueAssets(address)\":{\"notice\":\"Emergency recovery function for accidentally sent assets to prevent permanent loss\"}},\"notice\":\"Interface for minimal proxy contracts that manage asset distribution for completed batch redemptions\",\"version\":1}},\"settings\":{\"compilationTarget\":{\"src/interfaces/IkBatchReceiver.sol\":\"IkBatchReceiver\"},\"evmVersion\":\"prague\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\"},\"optimizer\":{\"enabled\":true,\"runs\":10000},\"remappings\":[\":forge-std-1.9.7/=dependencies/forge-std-1.9.7/src/\",\":forge-std/=dependencies/forge-std-1.9.7/src/\",\":kam/src/=src/\",\":kam/test/=test/\",\":openzeppelin/=src/vendor/openzeppelin/\",\":solady/=src/vendor/solady/\",\":uniswap/=src/vendor/uniswap/\"],\"viaIR\":true},\"sources\":{\"src/interfaces/IkBatchReceiver.sol\":{\"keccak256\":\"0x24ff5dada19224c432c93ed9d76d0fc3e9bcc3072646b39588bb400cda099a6e\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://bf809a51df4ead8be6a67bc052cefe8b2d5c6c59798de22e58a457be7e52ec90\",\"dweb:/ipfs/QmZKEFexzEDvAhiFVkMqqvnP7soBEsxRaWZkwaeZbiU8Tp\"]}},\"version\":1}","metadata":{"compiler":{"version":"0.8.30+commit.73712a01"},"language":"Solidity","output":{"abi":[{"inputs":[{"internalType":"address","name":"kMinter","type":"address","indexed":true},{"internalType":"bytes32","name":"batchId","type":"bytes32","indexed":true},{"internalType":"address","name":"asset","type":"address","indexed":false}],"type":"event","name":"BatchReceiverInitialized","anonymous":false},{"inputs":[{"internalType":"address","name":"receiver","type":"address","indexed":true},{"internalType":"address","name":"asset","type":"address","indexed":true},{"internalType":"uint256","name":"amount","type":"uint256","indexed":false}],"type":"event","name":"PulledAssets","anonymous":false},{"inputs":[{"internalType":"address","name":"asset","type":"address","indexed":true},{"internalType":"address","name":"to","type":"address","indexed":true},{"internalType":"uint256","name":"amount","type":"uint256","indexed":false}],"type":"event","name":"RescuedAssets","anonymous":false},{"inputs":[{"internalType":"address","name":"asset","type":"address","indexed":true},{"internalType":"uint256","name":"amount","type":"uint256","indexed":false}],"type":"event","name":"RescuedETH","anonymous":false},{"inputs":[],"stateMutability":"view","type":"function","name":"asset","outputs":[{"internalType":"address","name":"","type":"address"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"batchId","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"kMinter","outputs":[{"internalType":"address","name":"","type":"address"}]},{"inputs":[{"internalType":"address","name":"receiver","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"},{"internalType":"bytes32","name":"_batchId","type":"bytes32"}],"stateMutability":"nonpayable","type":"function","name":"pullAssets"},{"inputs":[{"internalType":"address","name":"asset_","type":"address"}],"stateMutability":"payable","type":"function","name":"rescueAssets"}],"devdoc":{"kind":"dev","methods":{"asset()":{"details":"Returns the asset address configured during initialization (e.g., USDC, WBTC). This determines which token type the receiver will distribute to redemption users. The asset type must match the asset that was originally deposited and requested for redemption in the batch.","returns":{"_0":"The contract address of the underlying asset this receiver distributes"}},"batchId()":{"details":"Returns the batch ID set during initialization, which links this receiver to a specific batch of redemption requests. Used for validation when pulling assets to ensure operations are performed on the correct batch. Essential for maintaining batch isolation and preventing cross-contamination between different settlement periods.","returns":{"_0":"The unique batch identifier as a bytes32 hash"}},"kMinter()":{"details":"Returns the immutable kMinter address set during receiver deployment. This address has exclusive permission to call pullAssets() and rescueAssets(), ensuring only the originating kMinter can manage asset distribution for this batch. Critical for maintaining access control and preventing unauthorized asset movements during the redemption settlement process.","returns":{"_0":"The address of the kMinter contract with administrative permissions over this receiver"}},"pullAssets(address,uint256,bytes32)":{"details":"This is the core asset distribution function that fulfills redemption requests after batch settlement. The process works as follows: (1) kMinter calls this function with user's proportional share, (2) receiver validates the batch ID matches to prevent cross-batch contamination, (3) assets are transferred directly to the user completing their redemption. Only callable by the authorized kMinter contract to maintain strict access control. This function is typically called multiple times per batch as individual users claim their settled redemptions, ensuring fair and orderly asset distribution.","params":{"_batchId":"The batch identifier for validation (must match this receiver's configured batch)","amount":"The quantity of assets to transfer based on the user's proportional share","receiver":"The address that will receive the settled assets (the user completing redemption)"}},"rescueAssets(address)":{"details":"Provides a safety mechanism for recovering tokens or ETH that were mistakenly sent to the receiver outside of normal settlement operations. The function handles both ERC20 tokens and native ETH recovery. For ERC20 tokens, it validates that the rescue asset is not the receiver's designated settlement asset (to prevent interfering with normal operations). Only the authorized kMinter can execute rescues, ensuring recovered assets return to the proper custodial system. Essential for maintaining protocol security while preventing accidental asset loss during the receiver contract's operational lifecycle.","params":{"asset_":"The contract address of the asset to rescue (use address(0) for native ETH recovery)"}}},"version":1},"userdoc":{"kind":"user","methods":{"asset()":{"notice":"Retrieves the underlying asset contract address managed by this receiver"},"batchId()":{"notice":"Retrieves the unique batch identifier this receiver serves"},"kMinter()":{"notice":"Retrieves the address of the kMinter contract authorized to interact with this receiver"},"pullAssets(address,uint256,bytes32)":{"notice":"Transfers settled assets from the receiver to a redemption user completing their withdrawal"},"rescueAssets(address)":{"notice":"Emergency recovery function for accidentally sent assets to prevent permanent loss"}},"version":1}},"settings":{"remappings":["forge-std-1.9.7/=dependencies/forge-std-1.9.7/src/","forge-std/=dependencies/forge-std-1.9.7/src/","kam/src/=src/","kam/test/=test/","openzeppelin/=src/vendor/openzeppelin/","solady/=src/vendor/solady/","uniswap/=src/vendor/uniswap/"],"optimizer":{"enabled":true,"runs":10000},"metadata":{"bytecodeHash":"ipfs"},"compilationTarget":{"src/interfaces/IkBatchReceiver.sol":"IkBatchReceiver"},"evmVersion":"prague","libraries":{},"viaIR":true},"sources":{"src/interfaces/IkBatchReceiver.sol":{"keccak256":"0x24ff5dada19224c432c93ed9d76d0fc3e9bcc3072646b39588bb400cda099a6e","urls":["bzz-raw://bf809a51df4ead8be6a67bc052cefe8b2d5c6c59798de22e58a457be7e52ec90","dweb:/ipfs/QmZKEFexzEDvAhiFVkMqqvnP7soBEsxRaWZkwaeZbiU8Tp"],"license":"MIT"}},"version":1},"storageLayout":{"storage":[],"types":{}},"ast":{"absolutePath":"src/interfaces/IkBatchReceiver.sol","id":51637,"exportedSymbols":{"IkBatchReceiver":[51636]},"nodeType":"SourceUnit","src":"32:8102:51","nodes":[{"id":51566,"nodeType":"PragmaDirective","src":"32:23:51","nodes":[],"literals":["solidity","^","0.8",".4"]},{"id":51636,"nodeType":"ContractDefinition","src":"1086:7047:51","nodes":[{"id":51576,"nodeType":"EventDefinition","src":"1980:96:51","nodes":[],"anonymous":false,"documentation":{"id":51568,"nodeType":"StructuredDocumentation","src":"1295:680:51","text":"@notice Emitted when a new batch receiver is initialized and ready for asset distribution\n @dev This event marks the successful deployment and configuration of a minimal proxy receiver\n for a specific batch. Essential for tracking the lifecycle of batch settlement processes and\n enabling off-chain systems to monitor when settlement assets can begin flowing to receivers.\n @param kMinter The address of the kMinter contract authorized to interact with this receiver\n @param batchId The unique identifier of the batch this receiver will serve\n @param asset The underlying asset address (USDC, WBTC, etc.) this receiver will distribute"},"eventSelector":"ab051ac83a2f3eb0d4acef0b16e45e830f6d966295150e6c9f1784f07be302cc","name":"BatchReceiverInitialized","nameLocation":"1986:24:51","parameters":{"id":51575,"nodeType":"ParameterList","parameters":[{"constant":false,"id":51570,"indexed":true,"mutability":"mutable","name":"kMinter","nameLocation":"2027:7:51","nodeType":"VariableDeclaration","scope":51576,"src":"2011:23:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":51569,"name":"address","nodeType":"ElementaryTypeName","src":"2011:7:51","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":51572,"indexed":true,"mutability":"mutable","name":"batchId","nameLocation":"2052:7:51","nodeType":"VariableDeclaration","scope":51576,"src":"2036:23:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":51571,"name":"bytes32","nodeType":"ElementaryTypeName","src":"2036:7:51","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"internal"},{"constant":false,"id":51574,"indexed":false,"mutability":"mutable","name":"asset","nameLocation":"2069:5:51","nodeType":"VariableDeclaration","scope":51576,"src":"2061:13:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":51573,"name":"address","nodeType":"ElementaryTypeName","src":"2061:7:51","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"2010:65:51"}},{"id":51585,"nodeType":"EventDefinition","src":"2708:84:51","nodes":[],"anonymous":false,"documentation":{"id":51577,"nodeType":"StructuredDocumentation","src":"2082:621:51","text":"@notice Emitted when assets are successfully distributed from the receiver to a redemption user\n @dev This event tracks the actual fulfillment of redemption requests, recording when users\n receive their settled assets. Critical for reconciliation and ensuring all batch participants\n receive their proportional share during the distribution phase.\n @param receiver The address that received the distributed assets (the redeeming user)\n @param asset The asset contract address that was transferred\n @param amount The quantity of assets successfully distributed to the receiver"},"eventSelector":"b7acbf17ad94b6f877e46c72718225d94e660fd48f2e46f65942f2f4cce22027","name":"PulledAssets","nameLocation":"2714:12:51","parameters":{"id":51584,"nodeType":"ParameterList","parameters":[{"constant":false,"id":51579,"indexed":true,"mutability":"mutable","name":"receiver","nameLocation":"2743:8:51","nodeType":"VariableDeclaration","scope":51585,"src":"2727:24:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":51578,"name":"address","nodeType":"ElementaryTypeName","src":"2727:7:51","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":51581,"indexed":true,"mutability":"mutable","name":"asset","nameLocation":"2769:5:51","nodeType":"VariableDeclaration","scope":51585,"src":"2753:21:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":51580,"name":"address","nodeType":"ElementaryTypeName","src":"2753:7:51","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":51583,"indexed":false,"mutability":"mutable","name":"amount","nameLocation":"2784:6:51","nodeType":"VariableDeclaration","scope":51585,"src":"2776:14:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":51582,"name":"uint256","nodeType":"ElementaryTypeName","src":"2776:7:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"2726:65:51"}},{"id":51594,"nodeType":"EventDefinition","src":"3348:79:51","nodes":[],"anonymous":false,"documentation":{"id":51586,"nodeType":"StructuredDocumentation","src":"2798:545:51","text":"@notice Emitted when accidentally sent ERC20 tokens are rescued from the receiver contract\n @dev Provides a safety mechanism for recovering tokens that were mistakenly sent to the receiver\n outside of normal operations. This prevents permanent loss of assets while maintaining security.\n @param asset The address of the ERC20 token contract that was rescued\n @param to The address that received the rescued tokens (typically the kMinter)\n @param amount The quantity of tokens that were successfully rescued"},"eventSelector":"552c8f8dc30f2786e14004d98595afcc1c0ea1f552b86e86f64a2da74761eaab","name":"RescuedAssets","nameLocation":"3354:13:51","parameters":{"id":51593,"nodeType":"ParameterList","parameters":[{"constant":false,"id":51588,"indexed":true,"mutability":"mutable","name":"asset","nameLocation":"3384:5:51","nodeType":"VariableDeclaration","scope":51594,"src":"3368:21:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":51587,"name":"address","nodeType":"ElementaryTypeName","src":"3368:7:51","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":51590,"indexed":true,"mutability":"mutable","name":"to","nameLocation":"3407:2:51","nodeType":"VariableDeclaration","scope":51594,"src":"3391:18:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":51589,"name":"address","nodeType":"ElementaryTypeName","src":"3391:7:51","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":51592,"indexed":false,"mutability":"mutable","name":"amount","nameLocation":"3419:6:51","nodeType":"VariableDeclaration","scope":51594,"src":"3411:14:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":51591,"name":"uint256","nodeType":"ElementaryTypeName","src":"3411:7:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"3367:59:51"}},{"id":51601,"nodeType":"EventDefinition","src":"3884:56:51","nodes":[],"anonymous":false,"documentation":{"id":51595,"nodeType":"StructuredDocumentation","src":"3433:446:51","text":"@notice Emitted when accidentally sent ETH is rescued from the receiver contract\n @dev Handles recovery of native ETH that was mistakenly sent to the contract, ensuring no\n value is permanently locked in the receiver contracts during their operational lifecycle.\n @param asset The address that received the rescued ETH (typically the kMinter)\n @param amount The amount of ETH (in wei) that was successfully rescued"},"eventSelector":"63b8c8e180bc85c19daef23e2bb787fb49672d3a9ecde24409c18ccb1accb5d1","name":"RescuedETH","nameLocation":"3890:10:51","parameters":{"id":51600,"nodeType":"ParameterList","parameters":[{"constant":false,"id":51597,"indexed":true,"mutability":"mutable","name":"asset","nameLocation":"3917:5:51","nodeType":"VariableDeclaration","scope":51601,"src":"3901:21:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":51596,"name":"address","nodeType":"ElementaryTypeName","src":"3901:7:51","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":51599,"indexed":false,"mutability":"mutable","name":"amount","nameLocation":"3932:6:51","nodeType":"VariableDeclaration","scope":51601,"src":"3924:14:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":51598,"name":"uint256","nodeType":"ElementaryTypeName","src":"3924:7:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"3900:39:51"}},{"id":51607,"nodeType":"FunctionDefinition","src":"4727:51:51","nodes":[],"documentation":{"id":51602,"nodeType":"StructuredDocumentation","src":"4124:598:51","text":"@notice Retrieves the address of the kMinter contract authorized to interact with this receiver\n @dev Returns the immutable kMinter address set during receiver deployment. This address has\n exclusive permission to call pullAssets() and rescueAssets(), ensuring only the originating\n kMinter can manage asset distribution for this batch. Critical for maintaining access control\n and preventing unauthorized asset movements during the redemption settlement process.\n @return The address of the kMinter contract with administrative permissions over this receiver"},"functionSelector":"1948f57f","implemented":false,"kind":"function","modifiers":[],"name":"kMinter","nameLocation":"4736:7:51","parameters":{"id":51603,"nodeType":"ParameterList","parameters":[],"src":"4743:2:51"},"returnParameters":{"id":51606,"nodeType":"ParameterList","parameters":[{"constant":false,"id":51605,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":51607,"src":"4769:7:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":51604,"name":"address","nodeType":"ElementaryTypeName","src":"4769:7:51","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"4768:9:51"},"scope":51636,"stateMutability":"view","virtual":false,"visibility":"external"},{"id":51613,"nodeType":"FunctionDefinition","src":"5260:49:51","nodes":[],"documentation":{"id":51608,"nodeType":"StructuredDocumentation","src":"4784:471:51","text":"@notice Retrieves the underlying asset contract address managed by this receiver\n @dev Returns the asset address configured during initialization (e.g., USDC, WBTC). This\n determines which token type the receiver will distribute to redemption users. The asset type\n must match the asset that was originally deposited and requested for redemption in the batch.\n @return The contract address of the underlying asset this receiver distributes"},"functionSelector":"38d52e0f","implemented":false,"kind":"function","modifiers":[],"name":"asset","nameLocation":"5269:5:51","parameters":{"id":51609,"nodeType":"ParameterList","parameters":[],"src":"5274:2:51"},"returnParameters":{"id":51612,"nodeType":"ParameterList","parameters":[{"constant":false,"id":51611,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":51613,"src":"5300:7:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":51610,"name":"address","nodeType":"ElementaryTypeName","src":"5300:7:51","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"5299:9:51"},"scope":51636,"stateMutability":"view","virtual":false,"visibility":"external"},{"id":51619,"nodeType":"FunctionDefinition","src":"5819:51:51","nodes":[],"documentation":{"id":51614,"nodeType":"StructuredDocumentation","src":"5315:499:51","text":"@notice Retrieves the unique batch identifier this receiver serves\n @dev Returns the batch ID set during initialization, which links this receiver to a specific\n batch of redemption requests. Used for validation when pulling assets to ensure operations\n are performed on the correct batch. Essential for maintaining batch isolation and preventing\n cross-contamination between different settlement periods.\n @return The unique batch identifier as a bytes32 hash"},"functionSelector":"4972134a","implemented":false,"kind":"function","modifiers":[],"name":"batchId","nameLocation":"5828:7:51","parameters":{"id":51615,"nodeType":"ParameterList","parameters":[],"src":"5835:2:51"},"returnParameters":{"id":51618,"nodeType":"ParameterList","parameters":[{"constant":false,"id":51617,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":51619,"src":"5861:7:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":51616,"name":"bytes32","nodeType":"ElementaryTypeName","src":"5861:7:51","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"internal"}],"src":"5860:9:51"},"scope":51636,"stateMutability":"view","virtual":false,"visibility":"external"},{"id":51629,"nodeType":"FunctionDefinition","src":"7123:81:51","nodes":[],"documentation":{"id":51620,"nodeType":"StructuredDocumentation","src":"6056:1062:51","text":"@notice Transfers settled assets from the receiver to a redemption user completing their withdrawal\n @dev This is the core asset distribution function that fulfills redemption requests after batch settlement.\n The process works as follows: (1) kMinter calls this function with user's proportional share, (2) receiver\n validates the batch ID matches to prevent cross-batch contamination, (3) assets are transferred directly\n to the user completing their redemption. Only callable by the authorized kMinter contract to maintain strict\n access control. This function is typically called multiple times per batch as individual users claim their\n settled redemptions, ensuring fair and orderly asset distribution.\n @param receiver The address that will receive the settled assets (the user completing redemption)\n @param amount The quantity of assets to transfer based on the user's proportional share\n @param _batchId The batch identifier for validation (must match this receiver's configured batch)"},"functionSelector":"5cd76354","implemented":false,"kind":"function","modifiers":[],"name":"pullAssets","nameLocation":"7132:10:51","parameters":{"id":51627,"nodeType":"ParameterList","parameters":[{"constant":false,"id":51622,"mutability":"mutable","name":"receiver","nameLocation":"7151:8:51","nodeType":"VariableDeclaration","scope":51629,"src":"7143:16:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":51621,"name":"address","nodeType":"ElementaryTypeName","src":"7143:7:51","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":51624,"mutability":"mutable","name":"amount","nameLocation":"7169:6:51","nodeType":"VariableDeclaration","scope":51629,"src":"7161:14:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":51623,"name":"uint256","nodeType":"ElementaryTypeName","src":"7161:7:51","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":51626,"mutability":"mutable","name":"_batchId","nameLocation":"7185:8:51","nodeType":"VariableDeclaration","scope":51629,"src":"7177:16:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":51625,"name":"bytes32","nodeType":"ElementaryTypeName","src":"7177:7:51","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"internal"}],"src":"7142:52:51"},"returnParameters":{"id":51628,"nodeType":"ParameterList","parameters":[],"src":"7203:0:51"},"scope":51636,"stateMutability":"nonpayable","virtual":false,"visibility":"external"},{"id":51635,"nodeType":"FunctionDefinition","src":"8076:55:51","nodes":[],"documentation":{"id":51630,"nodeType":"StructuredDocumentation","src":"7210:861:51","text":"@notice Emergency recovery function for accidentally sent assets to prevent permanent loss\n @dev Provides a safety mechanism for recovering tokens or ETH that were mistakenly sent to the receiver\n outside of normal settlement operations. The function handles both ERC20 tokens and native ETH recovery.\n For ERC20 tokens, it validates that the rescue asset is not the receiver's designated settlement asset\n (to prevent interfering with normal operations). Only the authorized kMinter can execute rescues, ensuring\n recovered assets return to the proper custodial system. Essential for maintaining protocol security while\n preventing accidental asset loss during the receiver contract's operational lifecycle.\n @param asset_ The contract address of the asset to rescue (use address(0) for native ETH recovery)"},"functionSelector":"25db13f1","implemented":false,"kind":"function","modifiers":[],"name":"rescueAssets","nameLocation":"8085:12:51","parameters":{"id":51633,"nodeType":"ParameterList","parameters":[{"constant":false,"id":51632,"mutability":"mutable","name":"asset_","nameLocation":"8106:6:51","nodeType":"VariableDeclaration","scope":51635,"src":"8098:14:51","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":51631,"name":"address","nodeType":"ElementaryTypeName","src":"8098:7:51","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"8097:16:51"},"returnParameters":{"id":51634,"nodeType":"ParameterList","parameters":[],"src":"8130:0:51"},"scope":51636,"stateMutability":"payable","virtual":false,"visibility":"external"}],"abstract":false,"baseContracts":[],"canonicalName":"IkBatchReceiver","contractDependencies":[],"contractKind":"interface","documentation":{"id":51567,"nodeType":"StructuredDocumentation","src":"57:1029:51","text":"@title IkBatchReceiver\n @notice Interface for minimal proxy contracts that manage asset distribution for completed batch redemptions\n @dev kBatchReceiver contracts are deployed as minimal proxies (one per batch) to efficiently manage the distribution\n of settled assets to users who requested redemptions. This design pattern provides: (1) gas-efficient deployment\n since each batch gets its own isolated distribution contract, (2) clear asset segregation preventing cross-batch\n contamination, (3) simplified accounting where each receiver holds exactly the assets needed for one batch.\n The contract serves as a temporary holding mechanism - kMinter transfers settled assets to the receiver, then users\n can pull their proportional share. This architecture ensures fair distribution and prevents front-running during\n the redemption settlement process. Only the originating kMinter contract can interact with receivers, maintaining\n strict access control throughout the asset distribution phase."},"fullyImplemented":false,"linearizedBaseContracts":[51636],"name":"IkBatchReceiver","nameLocation":"1096:15:51","scope":51637,"usedErrors":[],"usedEvents":[51576,51585,51594,51601]}],"license":"MIT"},"id":51}